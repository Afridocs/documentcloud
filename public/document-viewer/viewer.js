(function(window,undefined){var jQuery=function(selector,context){return arguments.length===0?rootjQuery:new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent.toLowerCase(),toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){selector=[doc.createElement(ret[1])]}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.isArray(selector)?this.setArray(selector):jQuery.makeArray(selector,this)},selector:"",jquery:"1.4a1",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery(elems||null);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},setArray:function(elems){this.length=0;push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&jQuery.isObjectLiteral(copy)){var clone=src&&jQuery.isObjectLiteral(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isObjectLiteral:function(obj){if(toString.call(obj)!=="[object Object]"||typeof obj.nodeType==="number"){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},isXMLDoc:function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||array.setInterval){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var pos,i=second.length;if(i&&i.nodeType){for(i=0;second[i];++i){}}pos=i+first.length;first.length=pos;while(i){first[--pos]=second[--i]}return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},browser:{version:(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/.exec(userAgent)||[0,"0"])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)}});if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn){var l=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn)}return elems}if(value!==undefined){exec=exec&&jQuery.isFunction(value);for(var i=0;i<l;i++){var elem=elems[i],val=exec?value.call(elem,i):value;fn(elem,key,val)}return elems}return l?fn(elems[0],key):null}function now(){return(new Date).getTime()}var expando="jQuery"+now(),uuid=0,windowData={};var emptyObject={};jQuery.extend({cache:{},expando:expando,data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!name&&!id){return null}if(!id){id=++uuid}if(cache[id]){thisCache=cache[id]}else{if(typeof data==="undefined"){thisCache=emptyObject}else{thisCache=cache[id]={}}}if(data!==undefined){elem[expando]=id;thisCache[name]=data}return name?thisCache[name]:thisCache},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete cache[id]}},queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type=="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type=="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!==undefined){var fn=handler;handler=this.proxy(fn);handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(arguments.callee.elem,arguments):undefined});handle.elem=elem;types=types.split(/\s+/);var type,i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();handler.type=namespaces.slice(0).sort().join(".");var handlers=events[type],special=this.special[type]||{};if(!handlers){handlers=events[type]={};if(!special.setup||special.setup.call(elem,data,namespaces,handler)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}if(special.add){var modifiedHandler=special.add.call(elem,handler,data,namespaces,handlers);if(modifiedHandler&&jQuery.isFunction(modifiedHandler)){modifiedHandler.guid=modifiedHandler.guid||handler.guid;handler=modifiedHandler}}handlers[handler.guid]=handler;this.global[type]=true}elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType===3||elem.nodeType===8){return}var events=jQuery.data(elem,"events"),ret,type,fn;if(events){if(types===undefined||(typeof types==="string"&&types.charAt(0)===".")){for(type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}types=types.split(/\s+/);var i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();var all=!namespaces.length,cleaned=jQuery.map(namespaces.slice(0).sort(),function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})}),namespace=new RegExp("(^|\\.)"+cleaned.join("\\.(?:.*\\.)?")+"(\\.|$)"),special=this.special[type]||{};if(events[type]){if(handler){fn=events[type][handler.guid];delete events[type][handler.guid]}else{for(var handle in events[type]){if(all||namespace.test(events[type][handle].type)){delete events[type][handle]}}}if(special.remove){special.remove.call(elem,namespaces,fn)}for(ret in events[type]){break}if(!ret){if(!special.teardown||special.teardown.call(elem,namespaces)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}}}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(this.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var nativeFn,nativeHandler;try{nativeFn=elem[type];nativeHandler=elem["on"+type]}catch(e){}if((!nativeFn||(jQuery.nodeName(elem,"a")&&type==="click"))&&nativeHandler&&nativeHandler.apply(elem,data)===false){event.result=false}if(!bubbling&&nativeFn&&!event.isDefaultPrevented()&&!(jQuery.nodeName(elem,"a")&&type==="click")){this.triggered=true;try{nativeFn()}catch(e){}}this.triggered=false;if(!event.isPropagationStopped()){var parent=elem.parentNode||elem.ownerDocument;if(parent){jQuery.event.trigger(event,data,parent,true)}}},handle:function(event){var all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;var namespaces=event.type.split(".");event.type=namespaces.shift();all=!namespaces.length&&!event.exclusive;var namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||namespace.test(handler.type)){event.handler=handler;event.data=handler.data;var ret=handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},proxy:function(fn,proxy,thisObject){if(proxy!==undefined&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}proxy=proxy||function(){return fn.apply(thisObject!==undefined?thisObject:this,arguments)};proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy},special:{ready:{setup:bindReady,teardown:function(){}},live:{add:function(proxy,data,namespaces,live){jQuery.extend(proxy,data||{});proxy.guid+=data.selector+data.live;jQuery.event.add(this,data.live,liveHandler,data)},remove:function(namespaces){if(namespaces.length){var remove=0,name=new RegExp("(^|\\.)"+namespaces[0]+"(\\.|$)");jQuery.each((jQuery.data(this,"events").live||{}),function(){if(name.test(this.type)){remove++}});if(remove<1){jQuery.event.remove(this,namespaces[0],liveHandler)}}},special:{}}}};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;while(parent&&parent!=this){try{parent=parent.parentNode}catch(e){break}}if(parent!=this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(orig,fix){jQuery.event.special[fix]={setup:function(data){jQuery.event.add(this,orig,data&&data.selector?delegate:withinElement,fix)},teardown:function(data){jQuery.event.remove(this,orig,data&&data.selector?delegate:withinElement)}}});jQuery.event.special.submit={setup:function(data,namespaces,fn){if(!jQuery.support.submitBubbles&&this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}return false},remove:function(namespaces,fn){jQuery.event.remove(this,"click.specialSubmit"+(fn?"."+fn.guid:""));jQuery.event.remove(this,"keypress.specialSubmit"+(fn?"."+fn.guid:""))}};jQuery.event.special.change={filters:{click:function(e){var elem=e.target;if(elem.nodeName.toLowerCase()==="input"&&elem.type==="checkbox"){return trigger("change",this,arguments)}return changeFilters.keyup.call(this,e)},keyup:function(e){var elem=e.target,data,index=elem.selectedIndex+"";if(elem.nodeName.toLowerCase()==="select"){data=jQuery.data(elem,"_change_data");jQuery.data(elem,"_change_data",index);if((elem.type==="select-multiple"||data!=null)&&data!==index){return trigger("change",this,arguments)}}},beforeactivate:function(e){var elem=e.target;if(elem.nodeName.toLowerCase()==="input"&&elem.type==="radio"&&!elem.checked){return trigger("change",this,arguments)}},blur:function(e){var elem=e.target,nodeName=elem.nodeName.toLowerCase();if((nodeName==="textarea"||(nodeName==="input"&&(elem.type==="text"||elem.type==="password")))&&jQuery.data(elem,"_change_data")!==elem.value){return trigger("change",this,arguments)}},focus:function(e){var elem=e.target,nodeName=elem.nodeName.toLowerCase();if(nodeName==="textarea"||(nodeName==="input"&&(elem.type==="text"||elem.type==="password"))){jQuery.data(elem,"_change_data",elem.value)}}},setup:function(data,namespaces,fn){if(!jQuery.support.changeBubbles){for(var type in changeFilters){jQuery.event.add(this,type+".specialChange."+fn.guid,changeFilters[type])}}return false},remove:function(namespaces,fn){if(!jQuery.support.changeBubbles){for(var type in changeFilters){jQuery.event.remove(this,type+".specialChange"+(fn?"."+fn.guid:""),changeFilters[type])}}}};var changeFilters=jQuery.event.special.change.filters;function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var event=jQuery.event,handle=event.handle;function ieHandler(){arguments[0].type=orig;return handle.apply(this,arguments)}event.special[orig]={setup:function(){if(this.addEventListener){this.addEventListener(orig,handle,true)}else{event.add(this,fix,ieHandler)}},teardown:function(){if(this.removeEventListener){this.removeEventListener(orig,handle,true)}else{event.remove(this,fix,ieHandler)}}}});jQuery.fn.extend({bind:function(type,data,fn,thisObject){if(typeof type==="object"){for(var key in type){this.bind(key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){thisObject=fn;fn=data;data=undefined}fn=thisObject===undefined?fn:jQuery.event.proxy(fn,thisObject);return type==="unload"?this.one(type,data,fn,thisObject):this.each(function(){jQuery.event.add(this,type,fn,data)})},one:function(type,data,fn,thisObject){if(typeof type==="object"){for(var key in type){this.one(key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){thisObject=fn;fn=data;data=undefined}fn=thisObject===undefined?fn:jQuery.event.proxy(fn,thisObject);var one=jQuery.event.proxy(fn,function(event){jQuery(this).unbind(event,one);return fn.apply(this,arguments)});return this.each(function(){jQuery.event.add(this,type,one,data)})},unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}return this}return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.event.proxy(fn,args[i++])}return this.click(jQuery.event.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(fn)}return this},live:function(type,data,fn,thisObject){if(jQuery.isFunction(data)){if(fn!==undefined){thisObject=fn}fn=data;data=undefined}jQuery(this.context).bind(liveConvert(type,this.selector),{data:data,selector:this.selector,live:type},fn,thisObject);return this},die:function(type,fn){jQuery(this.context).unbind(liveConvert(type,this.selector),fn?{guid:fn.guid+this.selector+type}:null);return this}});function liveHandler(event){var stop=true,elems=[],selectors=[],args=arguments,related,match,fn,elem,j,i,data,live=jQuery.extend({},jQuery.data(this,"events").live);for(j in live){fn=live[j];if(fn.live===event.type||fn.altLive&&jQuery.inArray(event.type,fn.altLive)>-1){data=fn.data;if(!(data.beforeFilter&&data.beforeFilter[event.type]&&!data.beforeFilter[event.type](event))){selectors.push(fn.selector)}}else{delete live[j]}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j in live){fn=live[j];elem=match[i].elem;related=null;if(match[i].selector===fn.selector){if(fn.live==="mouseenter"||fn.live==="mouseleave"){related=jQuery(event.relatedTarget).closest(fn.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,fn:fn})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.fn.data;if(match.fn.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return["live",type,selector.replace(/\./g,"`").replace(/ /g,"|")].join(".")}jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(jQuery.readyList){var fn,i=0;while((fn=jQuery.readyList[i++])){fn.call(document,jQuery)}jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);jQuery.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);jQuery.ready()}});var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){(function(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}jQuery.ready()})()}}}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});
/*@cc_on
jQuery( window ).bind( 'unload', function() {
	for ( var id in jQuery.cache ) {
		// Skip the window
		if ( id != 1 && jQuery.cache[ id ].handle ) {
			jQuery.event.remove( jQuery.cache[ id ].handle.elem );
		}
	}
});
@*/
(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.55;">a</a><select><option>text</option></select>';var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType==3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:a.style.opacity==="0.55",cssFloat:!!a.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){throw"Syntax error, unrecognized expression: "+(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.match[type].exec(expr))!=null){var filter=Expr.filter[type],found,item;anyFound=false;if(curLoop==result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr==old){if(anyFound==null){throw"Syntax error, unrecognized expression: "+expr}else{break}}old=expr}return curLoop};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part,isXML){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag&&!isXML){part=part.toUpperCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part,isXML){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=isXML?part:part.toUpperCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(!/\W/.test(part)){var nodeCheck=part=isXML?part:part.toUpperCase();checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=isXML?part:part.toUpperCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context,isXML){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){for(var i=0;curLoop[i]===false;i++){}return curLoop[i]&&isXML(curLoop[i])?match[1]:match[1].toUpperCase()},CHILD:function(match){if(match[1]=="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]=="even"&&"2n"||match[2]=="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toUpperCase()==="BUTTON"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0==i},eq:function(elem,i,match){return match[3]-0==i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type=="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first==1&&last==0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first==0){return diff==0}else{return(diff%first==0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!=check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source)}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})()}function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){var sibDir=dir=="previousSibling"&&!isXML;for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){if(sibDir&&elem.nodeType===1){elem.sizcache=doneName;elem.sizset=i}elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){var sibDir=dir=="previousSibling"&&!isXML;for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){if(sibDir&&elem.nodeType===1){elem.sizcache=doneName;elem.sizset=i}elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){return elem.nodeType===9&&elem.documentElement.nodeName!=="HTML"||!!elem.ownerDocument&&elem.ownerDocument.documentElement.nodeName!=="HTML"};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,elements)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(set[0]&&(set[0].setInterval||set[0].nodeType===9||(set[0].parentNode&&set[0].parentNode.nodeType!==11))?jQuery.unique(all):all)},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},end:function(){return this.prevObject||jQuery(null)}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},addClass:function(value){if(value&&typeof value==="string"){var classNames=(value||"").split(/\s+/);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ";for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){elem.className+=" "+classNames[c]}}}}}}return this},removeClass:function(value){if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(/\s+/);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=" "+elem.className+" ";for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=className.substring(1,className.length-1)}else{elem.className=""}}}}return this},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}return(elem.value||"").replace(/\r/g,"")}return undefined}if(typeof value==="number"){value+=""}var val=value;return this.each(function(){if(jQuery.isFunction(value)){val=value.call(this);if(typeof val==="number"){val+=""}}if(this.nodeType!=1){return}if(jQuery.isArray(val)&&/radio|checkbox/.test(this.type)){this.checked=jQuery.inArray(this.value||this.name,val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(this.value||this.text,values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},toggleClass:function(classNames,state){var type=typeof classNames;if(type==="string"){var isBool=typeof state==="boolean",className,i=0,classNames=classNames.split(/\s+/);while((className=classNames[i++])){state=isBool?state:!jQuery(this).hasClass(className);jQuery(this)[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||classNames===false?"":jQuery.data(this,"__className__")||""}}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.extend({attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}if(name in jQuery.fn&&name!=="attr"){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=/href|src|style/.test(name);if(name=="selected"&&elem.parentNode){elem.parentNode.selectedIndex}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&/(button|input)/i.test(elem.nodeName)&&elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name=="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:/(button|input|object|select|textarea)/i.test(elem.nodeName)?0:/^(a|area)$/i.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name=="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&\w+;/,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(this,function(){if(this.nodeType===3||this.nodeType===4){ret+=this.nodeValue}else{if(this.nodeType!==8){ret+=jQuery.fn.text.call(this.childNodes)}}});return ret},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(){jQuery(this).wrapAll(html.apply(this,arguments))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone();if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!/<script/i.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{this.empty().append(value)}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){return this.after(value).remove()}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[];if(jQuery.isFunction(value)){return this.each(function(){args[0]=value.call(this);return jQuery(this).domManip(args,table,callback)})}if(this[0]){if(args[0]&&args[0].parentNode&&args[0].parentNode.nodeType===11){results={fragment:args[0].parentNode}}else{results=buildFragment(args,this,scripts)}first=results.fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||this.length>1||i>0?results.fragment.cloneNode(true):results.fragment)}}if(scripts){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==orig[i].nodeName){return}var events=jQuery.data(orig[i],"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}})}function buildFragment(args,nodes,scripts){var fragment,cacheable,cached,cacheresults,doc;if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&args[0].indexOf("<option")<0){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults}cached=true}}if(!fragment){doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector);for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}});jQuery.each({remove:function(selector,keepData){if(!selector||jQuery.filter(selector,[this]).length){if(!keepData&&this.nodeType===1){cleanData(this.getElementsByTagName("*"));cleanData([this])}if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){if(this.nodeType===1){cleanData(this.getElementsByTagName("*"))}while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[],div=context.createElement("div");jQuery.each(elems,function(i,elem){if(typeof elem==="number"){elem+=""}if(!elem){return}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=jQuery.makeArray(div.childNodes)}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret}});function cleanData(elems){for(var i=0,elem,id;(elem=elems[i])!=null;i++){if((id=elem[expando])){delete jQuery.cache[id]}}}var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^\d+(?:px)?$/i,rnum=/^\d/,getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.css(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name==="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var computedStyle=elem.ownerDocument.defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,force=/^tr$/i.test(elem.nodeName);return width===0&&height===0&&!force?true:width!==0&&height!==0&&!force?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/g,rselectTextarea=/select|textarea/i,rinput=/text|hidden|password|search/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g;jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!=="string"){return this._load(url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params);type="POST"}}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,context:this,complete:function(res,status){if(status==="success"||status==="notmodified"){this.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){this.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(s){s=jQuery.extend(true,{},jQuery.ajaxSettings,s);var jsonp,status,data,callbackContext=s.context||window,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0){if(ival){clearInterval(ival);ival=null;if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(e){status="parsererror"}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(isTimeout){xhr.abort()}if(s.async){xhr=null}}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}}try{xhr.send(type==="POST"||type==="PUT"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||window,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type"),xml=type==="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){throw"parsererror"}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="script"){jQuery.globalEval(data)}if(type==="json"){if(typeof JSON==="object"&&JSON.parse){data=JSON.parse(data)}else{data=(new Function("return "+data))()}}}return data},param:function(a){var s=[],param_traditional=jQuery.param.traditional;function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{jQuery.each(a,function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){add(prefix+(param_traditional?"":"[]"),v)})}else{if(typeof obj=="object"){if(param_traditional){add(prefix,obj)}else{jQuery.each(obj,function(k,v){buildParams(prefix?prefix+"["+k+"]":k,v)})}}else{add(prefix,obj)}}})}return s.join("&").replace(r20,"+")}});var elemdisplay={},timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}jQuery.fn.extend({show:function(speed,callback){if(speed!=null){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var i=0,l=this.length;i<l;i++){this[i].style.display=jQuery.data(this[i],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed!=null){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var i=0,l=this.length;i<l;i++){this[i].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn==null||bool?this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()}):this.animate(genFx("toggle",3),fn,fn2)},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType==1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this)}if((p=="height"||p=="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=/^([+-]=)?([\d+-.]+)(.*)$/.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});if(jQuery.isEmptyObject(prop)){return optall.complete.call(this)}return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now();if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(){jQuery.offset.setOffset(this,options)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(){jQuery.offset.setOffset(this,options)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=function(){}},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);win?win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop()):this[method]=val})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return null}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);jQuery.ui||(function(q){var j=q.fn.remove,p=q.browser.mozilla&&(parseFloat(q.browser.version)<1.9);q.ui={version:"1.7.2",plugin:{add:function(c,b,e){var a=q.ui[c].prototype;for(var d in e){a.plugins[d]=a.plugins[d]||[];a.plugins[d].push([b,e[d]])}},call:function(d,b,c){var e=d.plugins[b];if(!e||!d.element[0].parentNode){return}for(var a=0;a<e.length;a++){if(d.options[e[a][0]]){e[a][1].apply(d.element,c)}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,c){if(q(a).css("overflow")=="hidden"){return false}var d=(c&&c=="left")?"scrollLeft":"scrollTop",b=false;if(a[d]>0){return true}a[d]=1;b=(a[d]>0);a[d]=0;return b},isOverAxis:function(b,c,a){return(b>c)&&(b<(c+a))},isOver:function(e,c,f,a,d,b){return q.ui.isOverAxis(e,f,d)&&q.ui.isOverAxis(c,a,b)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(p){var n=q.attr,o=q.fn.removeAttr,k="http://www.w3.org/2005/07/aaa",s=/^aria-/,r=/^wairole:/;q.attr=function(c,d,b){var a=b!==undefined;return(d=="role"?(a?n.call(this,c,d,"wairole:"+b):(n.apply(this,arguments)||"").replace(r,"")):(s.test(d)?(a?c.setAttributeNS(k,d.replace(s,"aaa:"),b):n.call(this,c,d.replace(s,"aaa:"))):n.apply(this,arguments)))};q.fn.removeAttr=function(a){return(s.test(a)?this.each(function(){this.removeAttributeNS(k,a.replace(s,""))}):o.call(this,a))}}q.fn.extend({remove:function(){q("*",this).add(this).each(function(){q(this).triggerHandler("remove")});return j.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var a;if((q.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(q.curCSS(this,"position",1))&&(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1))}).eq(0)}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!a.length?q(document):a}});q.extend(q.expr[":"],{data:function(a,b,c){return !!q.data(a,c[3])},focusable:function(b){var a=b.nodeName.toLowerCase(),c=q.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"==a||"area"==a?b.href||!isNaN(c):!isNaN(c))&&!q(b)["area"==a?"parents":"closest"](":hidden").length},tabbable:function(a){var b=q.attr(a,"tabindex");return(isNaN(b)||b>=0)&&q(a).is(":focusable")}});function m(a,f,e,b){function c(g){var h=q[a][f][g]||[];return(typeof h=="string"?h.split(/,?\s+/):h)}var d=c("getter");if(b.length==1&&typeof b[0]=="string"){d=d.concat(c("getterSetter"))}return(q.inArray(e,d)!=-1)}q.widget=function(b,c){var a=b.split(".")[0];b=b.split(".")[1];q.fn[b]=function(e){var g=(typeof e=="string"),f=Array.prototype.slice.call(arguments,1);if(g&&e.substring(0,1)=="_"){return this}if(g&&m(a,b,e,f)){var d=q.data(this[0],b);return(d?d[e].apply(d,f):undefined)}return this.each(function(){var h=q.data(this,b);(!h&&!g&&q.data(this,b,new q[a][b](this,e))._init());(h&&g&&q.isFunction(h[e])&&h[e].apply(h,f))})};q[a]=q[a]||{};q[a][b]=function(e,f){var d=this;this.namespace=a;this.widgetName=b;this.widgetEventPrefix=q[a][b].eventPrefix||b;this.widgetBaseClass=a+"-"+b;this.options=q.extend({},q.widget.defaults,q[a][b].defaults,q.metadata&&q.metadata.get(e)[b],f);this.element=q(e).bind("setData."+b,function(h,i,g){if(h.target==e){return d._setData(i,g)}}).bind("getData."+b,function(g,h){if(g.target==e){return d._getData(h)}}).bind("remove",function(){return d.destroy()})};q[a][b].prototype=q.extend({},q.widget.prototype,c);q[a][b].getterSetter="option"};q.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(b,a){var c=b,d=this;if(typeof b=="string"){if(a===undefined){return this._getData(b)}c={};c[b]=a}q.each(c,function(f,e){d._setData(f,e)})},_getData:function(a){return this.options[a]},_setData:function(b,a){this.options[b]=a;if(b=="disabled"){this.element[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",a)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(b,a,g){var e=this.options[b],d=(b==this.widgetEventPrefix?b:this.widgetEventPrefix+b);a=q.Event(a);a.type=d;if(a.originalEvent){for(var c=q.event.props.length,f;c;){f=q.event.props[--c];a[f]=a.originalEvent[f]}}this.element.trigger(a,g);return !(q.isFunction(e)&&e.call(this.element[0],a,g)===false||a.isDefaultPrevented())}};q.widget.defaults={disabled:false};q.ui.mouse={_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(a._preventClickEvent){a._preventClickEvent=false;b.stopImmediatePropagation();return false}});if(q.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(q.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(b.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(b));this._mouseDownEvent=b;var c=this,a=(b.which==1),d=(typeof this.options.cancel=="string"?q(b.target).parents().add(b.target).filter(this.options.cancel).length:false);if(!a||d||!this._mouseCapture(b)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(b)!==false);if(!this._mouseStarted){b.preventDefault();return true}}this._mouseMoveDelegate=function(e){return c._mouseMove(e)};this._mouseUpDelegate=function(e){return c._mouseUp(e)};q(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(q.browser.safari||b.preventDefault());b.originalEvent.mouseHandled=true;return true},_mouseMove:function(a){if(q.browser.msie&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a))}return !this._mouseStarted},_mouseUp:function(a){q(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(a.target==this._mouseDownEvent.target);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance)},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true}};q.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(b){b.widget("ui.slider",b.extend({},b.ui.mouse,{_init:function(){var a=this,d=this.options;this._keySliding=false;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this.range=b([]);if(d.range){if(d.range===true){this.range=b("<div></div>");if(!d.values){d.values=[this._valueMin(),this._valueMin()]}if(d.values.length&&d.values.length!=2){d.values=[d.values[0],d.values[0]]}}else{this.range=b("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(d.range=="min"||d.range=="max"){this.range.addClass("ui-slider-range-"+d.range)}this.range.addClass("ui-widget-header")}if(b(".ui-slider-handle",this.element).length==0){b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}if(d.values&&d.values.length){while(b(".ui-slider-handle",this.element).length<d.values.length){b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle")}}this.handles=b(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(c){c.preventDefault()}).hover(function(){if(!d.disabled){b(this).addClass("ui-state-hover")}},function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(!d.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}else{b(this).blur()}}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(c){b(this).data("index.ui-slider-handle",c)});this.handles.keydown(function(c){var m=true;var n=b(this).data("index.ui-slider-handle");if(a.options.disabled){return}switch(c.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:m=false;if(!a._keySliding){a._keySliding=true;b(this).addClass("ui-state-active");a._start(c,n)}break}var k,o,j=a._step();if(a.options.values&&a.options.values.length){k=o=a.values(n)}else{k=o=a.value()}switch(c.keyCode){case b.ui.keyCode.HOME:o=a._valueMin();break;case b.ui.keyCode.END:o=a._valueMax();break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(k==a._valueMax()){return}o=k+j;break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(k==a._valueMin()){return}o=k-j;break}a._slide(c,n,o);return m}).keyup(function(c){var f=b(this).data("index.ui-slider-handle");if(a._keySliding){a._stop(c,f);a._change(c,f);a._keySliding=false;b(this).removeClass("ui-state-active")}});this._refreshValue()},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy()},_mouseCapture:function(s){var r=this.options;if(r.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var o={x:s.pageX,y:s.pageY};var m=this._normValueFromMouse(o);var t=this._valueMax()-this._valueMin()+1,q;var a=this,n;this.handles.each(function(d){var c=Math.abs(m-a.values(d));if(t>c){t=c;q=b(this);n=d}});if(r.range==true&&this.values(1)==r.min){q=b(this.handles[++n])}this._start(s,n);a._handleIndex=n;q.addClass("ui-state-active").focus();var p=q.offset();var u=!b(s.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=u?{left:0,top:0}:{left:s.pageX-p.left-(q.width()/2),top:s.pageY-p.top-(q.height()/2)-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)};m=this._normValueFromMouse(o);this._slide(s,n,m);return true},_mouseStart:function(a){return true},_mouseDrag:function(e){var a={x:e.pageX,y:e.pageY};var f=this._normValueFromMouse(a);this._slide(e,this._handleIndex,f);return false},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._handleIndex=null;this._clickOffset=null;return false},_detectOrientation:function(){this.orientation=this.options.orientation=="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(p){var q,k;if("horizontal"==this.orientation){q=this.elementSize.width;k=p.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{q=this.elementSize.height;k=p.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}var n=(k/q);if(n>1){n=1}if(n<0){n=0}if("vertical"==this.orientation){n=1-n}var o=this._valueMax()-this._valueMin(),j=n*o,a=j%this.options.step,m=this._valueMin()+j-a;if(a>(this.options.step/2)){m+=this.options.step}return parseFloat(m.toFixed(5))},_start:function(e,f){var a={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(f);a.values=this.values()}this._trigger("start",e,a)},_slide:function(k,m,n){var j=this.handles[m];if(this.options.values&&this.options.values.length){var a=this.values(m?0:1);if((this.options.values.length==2&&this.options.range===true)&&((m==0&&n>a)||(m==1&&n<a))){n=a}if(n!=this.values(m)){var o=this.values();o[m]=n;var i=this._trigger("slide",k,{handle:this.handles[m],value:n,values:o});var a=this.values(m?0:1);if(i!==false){this.values(m,n,(k.type=="mousedown"&&this.options.animate),true)}}}else{if(n!=this.value()){var i=this._trigger("slide",k,{handle:this.handles[m],value:n});if(i!==false){this._setData("value",n,(k.type=="mousedown"&&this.options.animate))}}}},_stop:function(e,f){var a={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(f);a.values=this.values()}this._trigger("stop",e,a)},_change:function(e,f){var a={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){a.value=this.values(f);a.values=this.values()}this._trigger("change",e,a)},value:function(a){if(arguments.length){this._setData("value",a);this._change(null,0)}return this._value()},values:function(a,f,h,g){if(arguments.length>1){this.options.values[a]=f;this._refreshValue(h);if(!g){this._change(null,a)}}if(arguments.length){if(this.options.values&&this.options.values.length){return this._values(a)}else{return this.value()}}else{return this._values()}},_setData:function(a,e,f){b.widget.prototype._setData.apply(this,arguments);switch(a){case"disabled":if(e){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled")}else{this.handles.removeAttr("disabled")}case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue(f);break;case"value":this._refreshValue(f);break}},_step:function(){var a=this.options.step;return a},_value:function(){var a=this.options.value;if(a<this._valueMin()){a=this._valueMin()}if(a>this._valueMax()){a=this._valueMax()}return a},_values:function(a){if(arguments.length){var d=this.options.values[a];if(d<this._valueMin()){d=this._valueMin()}if(d>this._valueMax()){d=this._valueMax()}return d}else{return this.options.values}},_valueMin:function(){var a=this.options.min;return a},_valueMax:function(){var a=this.options.max;return a},_refreshValue:function(u){var r=this.options.range,t=this.options,a=this;if(this.options.values&&this.options.values.length){var o,p;this.handles.each(function(d,f){var e=(a.values(d)-a._valueMin())/(a._valueMax()-a._valueMin())*100;var c={};c[a.orientation=="horizontal"?"left":"bottom"]=e+"%";b(this).stop(1,1)[u?"animate":"css"](c,t.animate);if(a.options.range===true){if(a.orientation=="horizontal"){(d==0)&&a.range.stop(1,1)[u?"animate":"css"]({left:e+"%"},t.animate);(d==1)&&a.range[u?"animate":"css"]({width:(e-lastValPercent)+"%"},{queue:false,duration:t.animate})}else{(d==0)&&a.range.stop(1,1)[u?"animate":"css"]({bottom:(e)+"%"},t.animate);(d==1)&&a.range[u?"animate":"css"]({height:(e-lastValPercent)+"%"},{queue:false,duration:t.animate})}}lastValPercent=e})}else{var n=this.value(),q=this._valueMin(),m=this._valueMax(),s=m!=q?(n-q)/(m-q)*100:0;var v={};v[a.orientation=="horizontal"?"left":"bottom"]=s+"%";this.handle.stop(1,1)[u?"animate":"css"](v,t.animate);(r=="min")&&(this.orientation=="horizontal")&&this.range.stop(1,1)[u?"animate":"css"]({width:s+"%"},t.animate);(r=="max")&&(this.orientation=="horizontal")&&this.range[u?"animate":"css"]({width:(100-s)+"%"},{queue:false,duration:t.animate});(r=="min")&&(this.orientation=="vertical")&&this.range.stop(1,1)[u?"animate":"css"]({height:s+"%"},t.animate);(r=="max")&&(this.orientation=="vertical")&&this.range[u?"animate":"css"]({height:(100-s)+"%"},{queue:false,duration:t.animate})}}}));b.extend(b.ui.slider,{getter:"value values",version:"1.7.2",eventPrefix:"slide",defaults:{animate:false,delay:0,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null}})})(jQuery);jQuery.effects||(function(i){i.effects={version:"1.7.2",save:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.data("ec.storage."+a[c],b[0].style[a[c]])}}},restore:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.css(a[c],b.data("ec.storage."+a[c]))}}},setMode:function(b,a){if(a=="toggle"){a=b.is(":hidden")?"show":"hide"}return a},getBaseline:function(c,b){var a,d;switch(c[0]){case"top":a=0;break;case"middle":a=0.5;break;case"bottom":a=1;break;default:a=c[0]/b.height}switch(c[1]){case"left":d=0;break;case"center":d=0.5;break;case"right":d=1;break;default:d=c[1]/b.width}return{x:d,y:a}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper")){return e.parent()}var d={width:e.outerWidth(true),height:e.outerHeight(true),"float":e.css("float")};e.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var a=e.parent();if(e.css("position")=="static"){a.css({position:"relative"});e.css({position:"relative"})}else{var b=e.css("top");if(isNaN(parseInt(b,10))){b="auto"}var c=e.css("left");if(isNaN(parseInt(c,10))){c="auto"}a.css({position:e.css("position"),top:b,left:c,zIndex:e.css("z-index")}).show();e.css({position:"relative",top:0,left:0})}a.css(d);return a},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent().replaceWith(a)}return a},setTransition:function(c,a,d,b){b=b||{};i.each(a,function(e,m){unit=c.cssUnit(m);if(unit[0]>0){b[m]=unit[0]*d+unit[1]}});return b},animateClass:function(d,c,a,b){var m=(typeof a=="function"?a:(b?b:null));var e=(typeof a=="string"?a:null);return this.each(function(){var t={};var v=i(this);var u=v.attr("style")||"";if(typeof u=="object"){u=u.cssText}if(d.toggle){v.hasClass(d.toggle)?d.remove=d.toggle:d.add=d.toggle}var n=i.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){v.addClass(d.add)}if(d.remove){v.removeClass(d.remove)}var k=i.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){v.removeClass(d.add)}if(d.remove){v.addClass(d.remove)}for(var s in k){if(typeof k[s]!="function"&&k[s]&&s.indexOf("Moz")==-1&&s.indexOf("length")==-1&&k[s]!=n[s]&&(s.match(/color/i)||(!s.match(/color/i)&&!isNaN(parseInt(k[s],10))))&&(n.position!="static"||(n.position=="static"&&!s.match(/left|top|bottom|right/)))){t[s]=k[s]}}v.animate(t,c,e,function(){if(typeof i(this).attr("style")=="object"){i(this).attr("style")["cssText"]="";i(this).attr("style")["cssText"]=u}else{i(this).attr("style",u)}if(d.add){i(this).addClass(d.add)}if(d.remove){i(this).removeClass(d.remove)}if(m){m.apply(this,arguments)}})})}};function j(d,e){var b=d[1]&&d[1].constructor==Object?d[1]:{};if(e){b.mode=e}var c=d[1]&&d[1].constructor!=Object?d[1]:(b.duration?b.duration:d[2]);c=i.fx.off?0:typeof c==="number"?c:i.fx.speeds[c]||i.fx.speeds._default;var a=b.callback||(i.isFunction(d[1])&&d[1])||(i.isFunction(d[2])&&d[2])||(i.isFunction(d[3])&&d[3]);return[d[0],b,c,a]}i.fn.extend({_show:i.fn.show,_hide:i.fn.hide,__toggle:i.fn.toggle,_addClass:i.fn.addClass,_removeClass:i.fn.removeClass,_toggleClass:i.fn.toggleClass,effect:function(c,d,b,a){return i.effects[c]?i.effects[c].call(this,{method:c,options:d||{},duration:b,callback:a}):null},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments)}else{return this.effect.apply(this,j(arguments,"show"))}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments)}else{return this.effect.apply(this,j(arguments,"hide"))}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(i.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments)}else{return this.effect.apply(this,j(arguments,"toggle"))}},addClass:function(c,d,a,b){return d?i.effects.animateClass.apply(this,[{add:c},d,a,b]):this._addClass(c)},removeClass:function(c,d,a,b){return d?i.effects.animateClass.apply(this,[{remove:c},d,a,b]):this._removeClass(c)},toggleClass:function(c,d,a,b){return((typeof d!=="boolean")&&d)?i.effects.animateClass.apply(this,[{toggle:c},d,a,b]):this._toggleClass(c,d)},morph:function(e,c,d,a,b){return i.effects.animateClass.apply(this,[{add:c,remove:e},d,a,b])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(c){var b=this.css(c),a=[];i.each(["em","px","%","pt"],function(e,d){if(b.indexOf(d)>0){a=[parseFloat(b),d]}});return a}});i.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,b){i.fx.step[b]=function(c){if(c.state==0){c.start=h(c.elem,b);c.end=f(c.end)}c.elem.style[b]="rgb("+[Math.max(Math.min(parseInt((c.pos*(c.end[0]-c.start[0]))+c.start[0],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[1]-c.start[1]))+c.start[1],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[2]-c.start[2]))+c.start[2],10),255),0)].join(",")+")"}});function f(a){var b;if(a&&a.constructor==Array&&a.length==3){return a}if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]}if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]}if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}if(b=/rgba\(0, 0, 0, 0\)/.exec(a)){return g.transparent}return g[i.trim(a).toLowerCase()]}function h(a,c){var b;do{b=i.curCSS(a,c);if(b!=""&&b!="transparent"||i.nodeName(a,"body")){break}c="backgroundColor"}while(a=a.parentNode);return f(b)}var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};i.easing.jswing=i.easing.swing;i.extend(i.easing,{def:"easeOutQuad",swing:function(d,c,e,a,b){return i.easing[i.easing.def](d,c,e,a,b)},easeInQuad:function(d,c,e,a,b){return a*(c/=b)*c+e},easeOutQuad:function(d,c,e,a,b){return -a*(c/=b)*(c-2)+e},easeInOutQuad:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c+e}return -a/2*((--c)*(c-2)-1)+e},easeInCubic:function(d,c,e,a,b){return a*(c/=b)*c*c+e},easeOutCubic:function(d,c,e,a,b){return a*((c=c/b-1)*c*c+1)+e},easeInOutCubic:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c+e}return a/2*((c-=2)*c*c+2)+e},easeInQuart:function(d,c,e,a,b){return a*(c/=b)*c*c*c+e},easeOutQuart:function(d,c,e,a,b){return -a*((c=c/b-1)*c*c*c-1)+e},easeInOutQuart:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c*c+e}return -a/2*((c-=2)*c*c*c-2)+e},easeInQuint:function(d,c,e,a,b){return a*(c/=b)*c*c*c*c+e},easeOutQuint:function(d,c,e,a,b){return a*((c=c/b-1)*c*c*c*c+1)+e},easeInOutQuint:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c*c*c+e}return a/2*((c-=2)*c*c*c*c+2)+e},easeInSine:function(d,c,e,a,b){return -a*Math.cos(c/b*(Math.PI/2))+a+e},easeOutSine:function(d,c,e,a,b){return a*Math.sin(c/b*(Math.PI/2))+e},easeInOutSine:function(d,c,e,a,b){return -a/2*(Math.cos(Math.PI*c/b)-1)+e},easeInExpo:function(d,c,e,a,b){return(c==0)?e:a*Math.pow(2,10*(c/b-1))+e},easeOutExpo:function(d,c,e,a,b){return(c==b)?e+a:a*(-Math.pow(2,-10*c/b)+1)+e},easeInOutExpo:function(d,c,e,a,b){if(c==0){return e}if(c==b){return e+a}if((c/=b/2)<1){return a/2*Math.pow(2,10*(c-1))+e}return a/2*(-Math.pow(2,-10*--c)+2)+e},easeInCirc:function(d,c,e,a,b){return -a*(Math.sqrt(1-(c/=b)*c)-1)+e},easeOutCirc:function(d,c,e,a,b){return a*Math.sqrt(1-(c=c/b-1)*c)+e},easeInOutCirc:function(d,c,e,a,b){if((c/=b/2)<1){return -a/2*(Math.sqrt(1-c*c)-1)+e}return a/2*(Math.sqrt(1-(c-=2)*c)+1)+e},easeInElastic:function(o,e,p,a,b){var d=1.70158;var c=0;var n=a;if(e==0){return p}if((e/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return -(n*Math.pow(2,10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c))+p},easeOutElastic:function(o,e,p,a,b){var d=1.70158;var c=0;var n=a;if(e==0){return p}if((e/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return n*Math.pow(2,-10*e)*Math.sin((e*b-d)*(2*Math.PI)/c)+a+p},easeInOutElastic:function(o,e,p,a,b){var d=1.70158;var c=0;var n=a;if(e==0){return p}if((e/=b/2)==2){return p+a}if(!c){c=b*(0.3*1.5)}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}if(e<1){return -0.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c))+p}return n*Math.pow(2,-10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c)*0.5+a+p},easeInBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158}return a*(d/=b)*d*((c+1)*d-c)+m},easeOutBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158}return a*((d=d/b-1)*d*((c+1)*d+c)+1)+m},easeInOutBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158}if((d/=b/2)<1){return a/2*(d*d*(((c*=(1.525))+1)*d-c))+m}return a/2*((d-=2)*d*(((c*=(1.525))+1)*d+c)+2)+m},easeInBounce:function(d,c,e,a,b){return a-i.easing.easeOutBounce(d,b-c,0,a,b)+e},easeOutBounce:function(d,c,e,a,b){if((c/=b)<(1/2.75)){return a*(7.5625*c*c)+e}else{if(c<(2/2.75)){return a*(7.5625*(c-=(1.5/2.75))*c+0.75)+e}else{if(c<(2.5/2.75)){return a*(7.5625*(c-=(2.25/2.75))*c+0.9375)+e}else{return a*(7.5625*(c-=(2.625/2.75))*c+0.984375)+e}}}},easeInOutBounce:function(d,c,e,a,b){if(c<b/2){return i.easing.easeInBounce(d,c*2,0,a,b)*0.5+e}return i.easing.easeOutBounce(d,c*2-b,0,a,b)*0.5+a*0.5+e}})})(jQuery);(function(b){b.effects.blind=function(a){return this.queue(function(){var r=b(this),s=["position","top","left"];var n=b.effects.setMode(r,a.options.mode||"hide");var o=a.options.direction||"vertical";b.effects.save(r,s);r.show();var k=b.effects.createWrapper(r).css({overflow:"hidden"});var q=(o=="vertical")?"height":"width";var m=(o=="vertical")?k.height():k.width();if(n=="show"){k.css(q,0)}var p={};p[q]=n=="show"?m:0;k.animate(p,a.duration,a.options.easing,function(){if(n=="hide"){r.hide()}b.effects.restore(r,s);b.effects.removeWrapper(r);if(a.callback){a.callback.apply(r[0],arguments)}r.dequeue()})})}})(jQuery);(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var o=this,m=c(o),n=f,j,k={},h=m.is("html,body");switch(typeof n){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(n)){n=b(n);break}n=c(n,this);case"object":if(n.is||n.style){j=(n=c(n)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=o[v],g=a.max(o,r);if(j){k[v]=j[s]+(h?0:p-m.offset()[s]);if(d.margin){k[v]-=parseInt(n.css("margin"+t))||0;k[v]-=parseInt(n.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=n[r=="x"?"width":"height"]()*d.over[s]}}else{var u=n[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){m.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(){var x=this,d=x._,y=function(b){this._wrapped=b},e=typeof StopIteration!=="undefined"?StopIteration:"__break__",z=x._=function(b){return new y(b)};if(typeof exports!=="undefined"){exports._=z}var h=Array.prototype.slice,c=Array.prototype.unshift,a=Object.prototype.toString,D=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;z.VERSION="0.5.1";z.each=function(b,o,n){try{if(b.forEach){b.forEach(o,n)}else{if(z.isArray(b)||z.isArguments(b)){for(var m=0,k=b.length;m<k;m++){o.call(n,b[m],m,b)}}else{var j=z.keys(b);k=j.length;for(m=0;m<k;m++){o.call(n,b[j[m]],j[m],b)}}}}catch(i){if(i!=e){throw i}}return b};z.map=function(b,k,j){if(b&&z.isFunction(b.map)){return b.map(k,j)}var i=[];z.each(b,function(o,n,m){i.push(k.call(j,o,n,m))});return i};z.reduce=function(b,k,j,i){if(b&&z.isFunction(b.reduce)){return b.reduce(z.bind(j,i),k)}z.each(b,function(o,n,m){k=j.call(i,k,o,n,m)});return k};z.reduceRight=function(b,m,k,j){if(b&&z.isFunction(b.reduceRight)){return b.reduceRight(z.bind(k,j),m)}var i=z.clone(z.toArray(b)).reverse();z.each(i,function(o,n){m=k.call(j,m,o,n,b)});return m};z.detect=function(b,k,j){var i;z.each(b,function(o,n,m){if(k.call(j,o,n,m)){i=o;z.breakLoop()}});return i};z.select=function(b,k,j){if(b&&z.isFunction(b.filter)){return b.filter(k,j)}var i=[];z.each(b,function(o,n,m){k.call(j,o,n,m)&&i.push(o)});return i};z.reject=function(b,k,j){var i=[];z.each(b,function(o,n,m){!k.call(j,o,n,m)&&i.push(o)});return i};z.all=function(b,k,j){k=k||z.identity;if(b&&z.isFunction(b.every)){return b.every(k,j)}var i=true;z.each(b,function(o,n,m){(i=i&&k.call(j,o,n,m))||z.breakLoop()});return i};z.any=function(b,k,j){k=k||z.identity;if(b&&z.isFunction(b.some)){return b.some(k,j)}var i=false;z.each(b,function(o,n,m){if(i=k.call(j,o,n,m)){z.breakLoop()}});return i};z.include=function(b,j){if(z.isArray(b)){return z.indexOf(b,j)!=-1}var i=false;z.each(b,function(k){if(i=k===j){z.breakLoop()}});return i};z.invoke=function(b,j){var i=z.rest(arguments,2);return z.map(b,function(k){return(j?k[j]:k).apply(k,i)})};z.pluck=function(b,i){return z.map(b,function(j){return j[i]})};z.max=function(b,k,j){if(!k&&z.isArray(b)){return Math.max.apply(Math,b)}var i={computed:-Infinity};z.each(b,function(o,n,m){n=k?k.call(j,o,n,m):o;n>=i.computed&&(i={value:o,computed:n})});return i.value};z.min=function(b,k,j){if(!k&&z.isArray(b)){return Math.min.apply(Math,b)}var i={computed:Infinity};z.each(b,function(o,n,m){n=k?k.call(j,o,n,m):o;n<i.computed&&(i={value:o,computed:n})});return i.value};z.sortBy=function(b,j,i){return z.pluck(z.map(b,function(n,m,k){return{value:n,criteria:j.call(i,n,m,k)}}).sort(function(m,k){m=m.criteria;k=k.criteria;return m<k?-1:m>k?1:0}),"value")};z.sortedIndex=function(b,n,m){m=m||z.identity;for(var k=0,j=b.length;k<j;){var i=k+j>>1;m(b[i])<m(n)?(k=i+1):(j=i)}return k};z.toArray=function(b){if(!b){return[]}if(b.toArray){return b.toArray()}if(z.isArray(b)){return b}if(z.isArguments(b)){return h.call(b)}return z.map(b,function(i){return i})};z.size=function(b){return z.toArray(b).length};z.first=function(b,j,i){return j&&!i?h.call(b,0,j):b[0]};z.rest=function(b,j,i){return h.call(b,z.isUndefined(j)||i?1:j)};z.last=function(b){return b[b.length-1]};z.compact=function(b){return z.select(b,function(i){return !!i})};z.flatten=function(b){return z.reduce(b,[],function(j,i){if(z.isArray(i)){return j.concat(z.flatten(i))}j.push(i);return j})};z.without=function(b){var i=z.rest(arguments);return z.select(b,function(j){return !z.include(i,j)})};z.uniq=function(b,i){return z.reduce(b,[],function(m,k,j){if(0==j||(i===true?z.last(m)!=k:!z.include(m,k))){m.push(k)}return m})};z.intersect=function(b){var i=z.rest(arguments);return z.select(z.uniq(b),function(j){return z.all(i,function(k){return z.indexOf(k,j)>=0})})};z.zip=function(){for(var b=z.toArray(arguments),k=z.max(z.pluck(b,"length")),j=new Array(k),i=0;i<k;i++){j[i]=z.pluck(b,String(i))}return j};z.indexOf=function(b,k){if(b.indexOf){return b.indexOf(k)}for(var j=0,i=b.length;j<i;j++){if(b[j]===k){return j}}return -1};z.lastIndexOf=function(b,j){if(b.lastIndexOf){return b.lastIndexOf(j)}for(var i=b.length;i--;){if(b[i]===j){return i}}return -1};z.range=function(b,n,m){var k=z.toArray(arguments),j=k.length<=1;b=j?0:k[0];n=j?k[0]:k[1];m=k[2]||1;k=Math.ceil((n-b)/m);if(k<=0){return[]}k=new Array(k);j=b;for(var i=0;1;j+=m){if((m>0?j-n:n-j)>=0){return k}k[i++]=j}};z.bind=function(b,j){var i=z.rest(arguments,2);return function(){return b.apply(j||x,i.concat(z.toArray(arguments)))}};z.bindAll=function(b){var i=z.rest(arguments);if(i.length==0){i=z.functions(b)}z.each(i,function(j){b[j]=z.bind(b[j],b)});return b};z.delay=function(b,j){var i=z.rest(arguments,2);return setTimeout(function(){return b.apply(b,i)},j)};z.defer=function(b){return z.delay.apply(z,[b,1].concat(z.rest(arguments)))};z.wrap=function(b,i){return function(){var j=[b].concat(z.toArray(arguments));return i.apply(i,j)}};z.compose=function(){var b=z.toArray(arguments);return function(){for(var j=z.toArray(arguments),i=b.length-1;i>=0;i--){j=[b[i].apply(this,j)]}return j[0]}};z.keys=function(b){if(z.isArray(b)){return z.range(0,b.length)}var j=[];for(var i in b){D.call(b,i)&&j.push(i)}return j};z.values=function(b){return z.map(b,z.identity)};z.functions=function(b){return z.select(z.keys(b),function(i){return z.isFunction(b[i])}).sort()};z.extend=function(b,j){for(var i in j){b[i]=j[i]}return b};z.clone=function(b){if(z.isArray(b)){return b.slice(0)}return z.extend({},b)};z.isEqual=function(b,m){if(b===m){return true}var k=typeof b;if(k!=typeof m){return false}if(b==m){return true}if(!b&&m||b&&!m){return false}if(b.isEqual){return b.isEqual(m)}if(z.isDate(b)&&z.isDate(m)){return b.getTime()===m.getTime()}if(z.isNaN(b)&&z.isNaN(m)){return true}if(z.isRegExp(b)&&z.isRegExp(m)){return b.source===m.source&&b.global===m.global&&b.ignoreCase===m.ignoreCase&&b.multiline===m.multiline}if(k!=="object"){return false}if(b.length&&b.length!==m.length){return false}k=z.keys(b);var j=z.keys(m);if(k.length!=j.length){return false}for(var i in b){if(!z.isEqual(b[i],m[i])){return false}}return true};z.isEmpty=function(b){return z.keys(b).length==0};z.isElement=function(b){return !!(b&&b.nodeType==1)};z.isArguments=function(b){return b&&z.isNumber(b.length)&&!z.isArray(b)&&!C.call(b,"length")};z.isNaN=function(b){return z.isNumber(b)&&isNaN(b)};z.isNull=function(b){return b===null};z.isUndefined=function(b){return typeof b=="undefined"};for(var g=["Array","Date","Function","Number","RegExp","String"],w=0,B=g.length;w<B;w++){(function(){var b="[object "+g[w]+"]";z["is"+g[w]]=function(i){return a.call(i)==b}})()}z.noConflict=function(){x._=d;return this};z.identity=function(b){return b};z.breakLoop=function(){throw e};var A=0;z.uniqueId=function(b){var i=A++;return b?b+i:i};z.template=function(b,i){b=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return i?b(i):b};z.forEach=z.each;z.foldl=z.inject=z.reduce;z.foldr=z.reduceRight;z.filter=z.select;z.every=z.all;z.some=z.any;z.head=z.first;z.tail=z.rest;z.methods=z.functions;var f=function(b,i){return i?z(b).chain():b};z.each(z.functions(z),function(b){var i=z[b];y.prototype[b]=function(){c.call(arguments,this._wrapped);return f(i.apply(z,arguments),this._chain)}});z.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var i=Array.prototype[b];y.prototype[b]=function(){i.apply(this._wrapped,arguments);return f(this._wrapped,this._chain)}});z.each(["concat","join","slice"],function(b){var i=Array.prototype[b];y.prototype[b]=function(){return f(i.apply(this._wrapped,arguments),this._chain)}});y.prototype.chain=function(){this._chain=true;return this};y.prototype.value=function(){return this._wrapped}})();(function(){jQuery.fn.autohide=function(a){var b=this;a=_.extend({clickable:null,onHide:null},a||{});b._autoignore=true;setTimeout(function(){delete b._autoignore},0);if(!b._autohider){b.forceHide=function(c){if(!c&&a.onHide){a.onHide()}b.hide();jQuery(document).unbind("click",b._autohider);jQuery(document).unbind("keypress",b._autohider);b._autohider=null;b.forceHide=null};b._autohider=function(c){if(b._autoignore){return}if(a.clickable&&(b[0]==c.target||_.include(jQuery(c.target).parents(),b[0]))){return}if(a.onHide&&!a.onHide(c)){return}b.forceHide(c)};jQuery(document).bind("click",this._autohider);jQuery(document).bind("keypress",this._autohider)}};jQuery.fn.acceptInput=function(b){var a={delay:1000,callback:null,className:"acceptInput",initialStateClassName:"acceptInput-awaitingActivity",typingStateClassName:"acceptInput-acceptingInput",inputClassName:"acceptInput-textField"};if(b){jQuery.extend(a,b)}this.editTimer=null;this.deny=function(){this.parent().addClass("stopAcceptingInput")};this.allow=function(){this.parent().removeClass("stopAcceptingInput")};this.each(function(d,e){if(jQuery(e).parent().hasClass(a.initialStateClassName)){return true}e=jQuery(e);var c=e.wrap('<span class="'+a.initialStateClassName+'"></span>');c=c.parent();var f=jQuery('<input type="text" class="'+a.inputClassName+'" style="display:none;" />').appendTo(c);f.bind("blur",function(){c.addClass(a.initialStateClassName).removeClass(a.typingStateClassName);f.hide();e.show()});f.bind("keyup",function(){var g=f.attr("value");e.text(g);if(a.changeCallBack){jQuery.fn.acceptInput.editTimer=setTimeout(a.changeCallBack,500)}});f.bind("keydown",function(){if(jQuery.fn.acceptInput.editTimer){clearTimeout(jQuery.fn.acceptInput.editTimer)}});c.bind("click",function(){if(c.hasClass("stopAcceptingInput")){return}if(c.hasClass(a.initialStateClassName)){var g=function(){c.addClass(a.initialStateClassName).removeClass(a.typingStateClassName)};jQuery(f).autohide({clickable:true,onHide:_.bind(g,this)});e.hide();f.attr("value",e.text()).show()[0].focus();f[0].select();c.addClass(a.typingStateClassName).removeClass(a.initialStateClassName)}})});return this}}).call(this);window.$j=jQuery.noConflict();window.DV={register:function(b,a){if(!window.DV[b]){window.DV[b]=a}}};(function(){var a=false,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;DV.Class=function(){};DV.Class.extend=function(g){var f=this.prototype;a=true;var e=new this();a=false;for(var d in g){e[d]=typeof g[d]=="function"&&typeof f[d]=="function"&&b.test(g[d])?(function(h,i){return function(){var k=this._super;this._super=f[h];var j=i.apply(this,arguments);this._super=k;return j}})(d,g[d]):g[d]}function c(){if(!a&&this.init){this.init.apply(this,arguments)}}c.prototype=e;c.constructor=c;c.extend=arguments.callee;return c}})();DV.history={URL_CHECK_INTERVAL:500,USE_IFRAME:jQuery.browser.msie&&jQuery.browser.version<8,handlers:[],defaultCallback:null,hash:window.location.hash,initialize:function(){_.bindAll(this,"checkURL");if(this.USE_IFRAME){this.iframe=jQuery('<iframe src="javascript:0"/>').hide().appendTo("body")[0].contentWindow}if("onhashchange" in window){window.onhashchange=this.checkURL}else{setInterval(this.checkURL,this.URL_CHECK_INTERVAL)}},register:function(a,b){this.handlers.push({matcher:a,callback:b})},save:function(a){window.location.hash=this.hash=(a?"#"+a:"");if(this.USE_IFRAME&&(this.hash!=this.iframe.location.hash)){this.iframe.document.open().close();this.iframe.location.hash=this.hash}},checkURL:function(){var a=(this.USE_IFRAME?this.iframe:window).location.hash;if(a==this.hash||a==decodeURIComponent(this.hash)){return false}if(this.USE_IFRAME){window.location.hash=a}this.loadURL(true)},loadURL:function(c){var d=this.hash=window.location.hash;for(var b=this.handlers.length-1;b>=0;b--){var a=d.match(this.handlers[b].matcher);if(a){if(c===true){this.handlers[b].callback.apply(this.handlers[b].callback,a.slice(1,a.length))}return true}}if(this.defaultCallback!=null&&c===true){this.defaultCallback()}else{return false}}};jQuery(document).ready(function(){DV.history.initialize()});DV.Annotation=DV.Class.extend({init:function(a){this.position={top:a.top,left:a.left};this.dimensions={width:a.width,height:a.height};this.page=a.page;this.pageEl=a.pageEl;this.application=this.page.set.application;this.annotationEl=null;this.renderedHTML=a.renderedHTML;this.type=a.type;this.id=a.id;this.model=this.application.models.annotations.getAnnotation(this.id);this.state="collapsed";this.active=false;this.remove();this.add();if(a.active){this.active=null;this.page.set.setActiveAnnotation(null);this.show();if(a.showEdit){this.showEdit()}}},add:function(){if(this.type==="page"){this.annotationEl=this.renderedHTML.insertBefore(this.pageEl)}else{if(this.page.annotations.length>0){for(var b=0,a=this.page.annotations.length;b<a;b++){if(this.page.annotations[b].id===this.id){return false}else{this.annotationEl=this.renderedHTML.appendTo(this.pageEl)}}}else{this.annotationEl=this.renderedHTML.appendTo(this.pageEl)}}},next:function(){this.hide.preventRemovalOfCoverClass=true;var a=this.application.models.annotations.getNextAnnotation(this.id);if(!a){return}this.page.set.showAnnotation({index:a.index,id:a.id,top:a.y1})},previous:function(){this.hide.preventRemovalOfCoverClass=true;var a=this.application.models.annotations.getPreviousAnnotation(this.id);if(!a){return}this.page.set.showAnnotation({index:a.index,id:a.id,top:a.y1})},show:function(a){if(this.application.activeAnnotation){this.application.activeAnnotation.hide()}this.application.elements.window.addClass("DV-coverVisible");this.annotationEl.find("div.DV-annotationBG").css({display:"block",opacity:1});this.annotationEl.addClass("DV-activeAnnotation");this.page.activeAnnotation=this;this.application.activeAnnotation=this;this.application.helpers.addObserver("trackAnnotation");this.application.helpers.setActiveAnnotationInNav(this.id);this.active=true;DV.history.save("document/p"+(parseInt(this.page.index,10)+1)+"/a"+this.id);if(a&&a.edit){this.showEdit()}},hide:function(a){if(this.type!=="page"){this.annotationEl.find("div.DV-annotationBG").css({opacity:0,display:"none"})}this.annotationEl.removeClass("DV-editing");this.annotationEl.removeClass("DV-activeAnnotation");if(a===true){this.application.elements.window.removeClass("DV-coverVisible")}if(this.hide.preventRemovalOfCoverClass===false||!this.hide.preventRemovalOfCoverClass){this.application.elements.window.removeClass("DV-coverVisible");this.hide.preventRemovalOfCoverClass=false}this.page.activeAnnotation=null;this.application.activeAnnotation=null;this.application.helpers.removeObserver("trackAnnotation");this.application.helpers.setActiveAnnotationInNav();this.active=false;if(this.model.unsaved){this.application.models.annotations.removeAnnotation(this.model)}this.removeConnector(true)},toggle:function(b){if(this.application.activeAnnotation&&(this.application.activeAnnotation!=this)){this.application.activeAnnotation.hide()}if(this.type==="page"){return}var a=this.annotationEl.find("div.DV-annotationBG");this.annotationEl.toggleClass("DV-activeAnnotation");if(this.active==true){this.hide()}else{this.show()}},drawConnector:function(){if(this.active!=true){this.application.elements.window.addClass("DV-annotationActivated");this.annotationEl.addClass("DV-annotationHover")}},removeConnector:function(a){if(this.active!=true){this.application.elements.window.removeClass("DV-annotationActivated");this.annotationEl.removeClass("DV-annotationHover")}},showEdit:function(){this.annotationEl.addClass("DV-editing");$j(".DV-annotationTitleInput",this.annotationEl).focus()},remove:function(){$j("#DV-annotation-"+this.id).remove()}});(function(){var a=function(b,e,d){if(!jQuery){throw ("You need jQuery for the dragReporter!");return}if(!b||!e){throw ("You need jQuery for the dragReporter!");return}for(var c in d){this[c]=d[c]}this.dispatcher=e;this.toWatch=jQuery(b);this.boundReporter=this.bind(this,this.mouseMoveReporter);this.boundMouseUpReporter=this.bind(this,this.mouseUpReporter);this.boundMouseDownReporter=this.bind(this,this.mouseDownReporter);this.setBinding()};a.prototype.pageY=null;a.prototype.pageX=null;a.prototype.dispatcher=null;a.prototype.boundReporter=null;a.prototype.boundMouseUpReporter=null;a.prototype.boundMouseDownReporter=null;a.prototype.toWatch=null;a.prototype.sensativity=1;a.prototype.ignoreSelector=null;a.prototype.dragClassName="DV-dragging";a.prototype.bind=function(b,c){return function(){return c.apply(b,arguments)}};a.prototype.shouldIgnore=function(c){if(!this.ignoreSelector){return false}var b=jQuery(c.target);return b.parents().is(this.ignoreSelector)||b.is(this.ignoreSelector)};a.prototype.mouseUpReporter=function(b){if(this.shouldIgnore(b)){return true}b.preventDefault();this.stop()};a.prototype.stop=function(){this.toWatch.removeClass(this.dragClassName);this.toWatch.unbind("mousemove")};a.prototype.setBinding=function(){this.toWatch.mouseup(this.boundMouseUpReporter);this.toWatch.mousedown(this.boundMouseDownReporter)};a.prototype.unBind=function(){this.toWatch.unbind("mouseup",this.boundMouseUpReporter);this.toWatch.unbind("mousedown",this.boundMouseDownReporter)};a.prototype.destroy=function(){this.unBind();this.toWatch=null};a.prototype.mouseDownReporter=function(b){if(this.shouldIgnore(b)){return true}b.preventDefault();this.pageY=b.pageY;this.pageX=b.pageX;this.toWatch.addClass(this.dragClassName);this.toWatch.mousemove(this.boundReporter)};a.prototype.mouseMoveReporter=function(c){if(this.shouldIgnore(c)){return true}c.preventDefault();var d=Math.round(this.sensativity*(this.pageY-c.pageY));var b=(d>0)?"down":"up";this.pageY=c.pageY;if(d===0){return}else{this.dispatcher({event:c,delta:d,direction:b})}};DV.register("dragReporter",a)}).call(this);DV.Elements=DV.Class.extend({init:function(a){if(!a){throw ("Elements to query must be defined");return}this.names=[];if(a.constructor===Array){return this.getElements(a)}else{return this.getElement(a)}},getElement:function(b,a){if(window.jQuery){this.getElement=function(d,c){if(this[d.name]&&c===null){return}else{this[d.name]=jQuery(d.query);this.names.push(d.name);return this}}}else{if(window.Prototype){this.getElement=function(d,c){if(this[d.name]&&c===null){return}else{this[d.name]=$$(d.query);this.names.push(d.name);return this}}}else{this.getElement=function(d,c){if(this[d.name]&&c===null){return}else{this[d.name]=document.getElementById(d.query);this.names.push(d.name);return this}}}}this.getElement(b,a)},getElements:function(c,b){for(var a=c.length-1;a>=0;a--){this.getElement(c[a],b)}return this},destroy:function(){for(var b=0,a=this.names.length;b<a;b++){this[this.names[b]].unbind();this[this.names[b]].die();delete this[this.names[b]]}delete this.names}});window.Inflector={camelize:function(c){var e=c.split("-"),a=e.length;if(a==1){return e[0]}var d=c.charAt(0)=="-"?e[0].charAt(0).toUpperCase()+e[0].substring(1):e[0];for(var b=1;b<a;b++){d+=e[b].charAt(0).toUpperCase()+e[b].substring(1)}return d},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},underscore:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()},dasherize:function(a){return a.replace(/_/g,"-")},singularize:function(a){return a.replace(/e?s$/,"")},pluralize:function(a,b){return b!=1?a+"s":a},classify:function(a){return this.camelize(this.capitalize(this.dasherize(this.singularize(a))))},truncate:function(b,c,a){c=c||30;a=_.isUndefined(a)?"...":a;return b.length>c?b.slice(0,c-a.length)+a:b},stripTags:function(a){return a.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}};(function(){var a=function(c,b){this.set("application",c);if(b!=null){this.addMethods(b)}if(this.setup){this.setup()}};a.prototype.addMethods=function(b){for(var c in b){this.set(c,b[c])}};a.prototype.get=function(b){return this[b]};a.prototype.set=function(b,c){if(b!=="set"&&b!=="get"&&b!=="bind"){this[b]=c;return this[b]}else{return false}};a.prototype.bind=function(b,c){return function(){return c.apply(b,arguments)}};DV.register("model",a)}).call(this);DV.page=DV.Class.extend({init:function(c){this.index=c.index;for(var b in c){this[b]=c[b]}this.el=$j(this.el);this.parent=this.el.parent();this.pageNumberEl=this.el.find("span.DV-pageNumber");this.setPageImage();this.pageEl=this.el.find("div.DV-page");this.coverEl=this.el.find("div.DV-cover");this.application=this.set.application;this.loadTimer=null;this.offset=null;this.pageNumber=null;this.zoom=1;this.annotations=[];this.activeAnnotation=null;var a=this.application.models;this.model_document=a.document;this.model_pages=a.pages;this.model_annotations=a.annotations;this.model_chapters=a.chapters},setPageImage:function(){this.pageImageEl=this.el.find("img.DV-pageImage")},annotationBridge:function(b){switch(b.data.action){case"previous":b.data.page.activeAnnotation.previous();break;case"next":b.data.page.activeAnnotation.next();break;case"show":var c=b.data.page||this;for(var a=0;a<c.annotations.length;a++){if(c.annotations[a].annotationEl[0].id==$j(b.element).closest(".DV-annotation")[0].id){c.annotations[a].show();break}}break;case"hide":var c=b.data.page||this;for(var a=0;a<c.annotations.length;a++){if(c.annotations[a].annotationEl[0].id==$j(b.element).closest(".DV-annotation")[0].id){c.annotations[a].hide(true);break}}break}},getOffset:function(){return this.model_document.offsets[this.index]},draw:function(d){if(this.index===d.index&&d.force!==true){return}this.index=(d.force===true)?this.index:d.index;var g=[];this.loadImage();this.position();if(this.pageNumber!=this.index+1||d.forceAnnotationRedraw===true){for(var c=0;c<this.annotations.length;c++){this.annotations[c].remove();delete this.annotations[c]}this.annotations=[];var e=this.model_annotations.byPage[this.index];if(e){for(var c=0;c<e.length;c++){var b=e[c];if(b.id===this.application.annotationToLoadId){var f=true;if(b.id===this.application.annotationToLoadEdit){d.edit=true}}else{var f=false}g.push(b.type);var a=new DV.Annotation({renderedHTML:$j("#DV-annotations .DV-annotation[rel=aid-"+b.id+"]").clone().attr("id","DV-annotation-"+b.id),id:b.id,page:this,pageEl:this.pageEl,pageNumber:this.pageNumber,state:"collapsed",top:b.y1,left:b.x1,width:b.x1+b.x2,height:b.y1+b.y2,active:f,showEdit:d.edit,type:b.type});this.annotations.push(a)}}this.renderMeta({pageNumber:this.index+1})}this.setPageType(_.uniq(g))},setPageType:function(a){this.el.removeClass("DV-layer-page DV-layer-regional");if(a.length!==0){this.el.addClass(" DV-layer-"+a.join(" DV-layer-"))}},position:function(a){this.el.css({top:this.model_document.offsets[this.index]});this.offset=this.getOffset()},renderMeta:function(a){this.pageNumberEl.text("p. "+a.pageNumber);this.pageNumber=a.pageNumber},loadImage:function(c){var a=this.model_pages;this.el.removeClass("DV-loaded");var b=new Image();var d=this;var e=function(){if(d.loadTimer){d.loadTimer=null}b.onload=function(){a.updateHeight(b);var f=a.scaledHeight(b);d.renderImage(b.src,f)};b.src=a.imageURL(d.index)};if(d.loadTimer){clearTimeout(this.loadTimer)}this.loadTimer=setTimeout(e,150)},renderImage:function(b,a){if(b==this.pageImageEl.attr("src")&&a==this.pageImageEl.attr("height")){this.el.addClass("DV-loaded");return}this.pageImageEl.replaceWith('<img galleryimg="no" width="'+this.model_pages.width+'" height="'+a+'" class="DV-pageImage" src="'+b+'" />');this.coverEl.css({width:this.model_pages.width,height:this.model_pages.height});this.el.css({height:this.model_pages.height+this.model_document.additionalPaddingOnPage,width:this.model_pages.width});this.pageEl.css({height:this.model_pages.height,width:this.model_pages.width});this.el.addClass("DV-loaded");this.setPageImage()}});DV.pageSet=DV.Class.extend({init:function(a){this.currentPage=null;this.pages=[];this.application=a},execute:function(a,b){this.pages.each(function(c){c[a].apply(c,b)})},buildPages:function(){var a=this.getPages();for(var b=0;b<a.length;b++){var c=a[b];c.set=this;c.index=b;this.pages[c.label]=new DV.page(c);if(c.currentPage==true){this.currentPage=this.pages[c.label]}}this.redraw(true,true)},getPages:function(){var a=[];this.application.elements.sets.each(function(d,c){var b=(d==0)?true:false;a.push({label:"p"+d,el:c,index:d,pageNumber:d+1,currentPage:b})});return a},reflowPages:function(){this.application.models.pages.resize();this.application.models.document.computeOffsets();this.redraw();this.application.helpers.setActiveAnnotationLimits()},cleanUp:function(){if(this.application.activeAnnotation){this.application.activeAnnotation.hide(true)}},zoom:function(d){if(this.application.models.document.zoomLevel===d.zoomLevel){return}var e=this.application.models.document.currentIndex();var g=e-1;var c=this.application.models.document.offsets[e];var j=this.application.models.document.zoomLevel*1;var b=this.application.elements.window.scrollTop();this.application.models.document.zoom(d.zoomLevel);var h=(parseInt(b,10)>parseInt(c,10))?b-c:c-b;var a=h/this.application.models.pages.height;var i=Math.round(this.application.models.pages.height*a);this.redraw(false,true);if(this.application.activeAnnotation!=null){var f={index:this.application.models.document.currentIndex(),top:this.application.activeAnnotation.y1,id:this.application.activeAnnotation.id,top:this.application.models.annotations.byPage[this.application.models.document.currentIndex()][0]*this.application.models.document.zoomLevel};this.application.activeAnnotation=null;this.showAnnotation(f);this.application.helpers.setActiveAnnotationLimits(this.application.activeAnnotation)}else{this.application.helpers.jumpTo(this.application.models.document.currentIndex(),i)}},draw:function(a){for(var c=0,b=a.length;c<b;c++){this.pages[a[c].label].draw({index:a[c].index,pageNumber:a[c].index+1})}},redraw:function(a,b){this.pages.p0.draw({force:true,forceAnnotationRedraw:b});this.pages.p1.draw({force:true,forceAnnotationRedraw:b});this.pages.p2.draw({force:true,forceAnnotationRedraw:b});if(this.application.state!="InitialLoad"&&!a){this.application.helpers.jumpTo(this.application.models.document.currentIndex())}},setActiveAnnotation:function(b,a){this.application.annotationToLoadId=b;this.application.annotationToLoadEdit=a?b:null},showAnnotation:function(c,a){a=a||{};if(this.application.state==="ViewAnnotation"){var d=$j("#DV-annotations div[rel=aid-"+c.id+"]")[0].offsetTop;this.application.elements.window.scrollTop(d+10,"fast");this.application.helpers.setActiveAnnotationInNav(c.id);this.application.activeAnnotationId=c.id;DV.history.save("annotation/a"+c.id);return}else{this.application.activeAnnotationId=null;if(this.application.activeAnnotation!=null){this.application.activeAnnotation.hide()}this.setActiveAnnotation(c.id,a.edit);var d=c.top-36;for(var b=0;b<=2;b++){for(var e=0;e<this.pages["p"+b].annotations.length;e++){if(this.pages["p"+b].annotations[e].id===c.id){if(!a.noJump){this.application.helpers.jumpTo(c.index,d)}this.pages["p"+b].annotations[e].show(a);return}}}this.application.helpers.removeObserver("trackAnnotation");if(!a.noJump){this.application.helpers.jumpTo(c.index,d)}}}});DV.StateMachine=function(a,b,d,c,e){this.pendingElements=d;if(e!=null){this.addModels(e)}this.compile(a,b,c)};DV.StateMachine.prototype.state=null;DV.StateMachine.prototype.elements=null;DV.StateMachine.prototype.helpers=null;DV.StateMachine.prototype.states=null;DV.StateMachine.prototype.models={};DV.StateMachine.prototype.events=null;DV.StateMachine.prototype.addModels=function(b){for(var a in b){if(!this.models[a]){this.models[a]=b[a]}}};DV.StateMachine.prototype.compile=function(a,b,c){this.events=b;this.helpers=c;this.states=this.compileStates(a);this.events=this.compileMethods(this.events,{application:this,states:this.states,elements:this.elements,helpers:this.helpers,models:this.models,compile:function(){var d=this.application;var e=arguments[0];return function(){if(!d.events[d.getState()][e]){d.events[e].apply(d.events,arguments)}else{d.events[d.getState()][e].apply(d.events,arguments)}}}});this.helpers=this.compileMethods(this.helpers,{application:this,states:this.states,elements:this.elements,events:this.events,models:this.models});this.states=this.compileMethods(this.states,{application:this,helpers:this.helpers,elements:this.elements,events:this.events,models:this.models})};DV.StateMachine.prototype.compileStates=function(a){var c={};var d=this;for(var b in a){if(a[b]===null||a[b]===false||!a[b].enter){this[b]=a[b];continue}c[b]=(function(e){var f=d;return function(){var g=f.getState();if(g===e){throw"Cannot change to state you are already in";return}if(a[g]!=null){var h=a[g].exit.call(f,e);if(h===false){return false}}f.setState(e);a[e].enter.call(f,g);a[e][e].apply(f,arguments)}})(b);c[b].exit=function(e){var f=this;return function(){a[e].exit.call(f)}}(b)}return c};DV.StateMachine.prototype.compileMethods=function(a,c){for(var b in c){a[b]=c[b]}return a};DV.StateMachine.prototype.getState=function(){return this.state};DV.StateMachine.prototype.setState=function(a){this.state=a;return this.state};DV.StateMachine.prototype.bind=function(a,b){return function(){return b.apply(a,arguments)}};window.DV=window.DV||{};DV.Schema=function(){return{models:{},views:{},states:{},helpers:{},events:{},elements:{},text:{},data:{zoomLevel:700,pageWidthPadding:20,additionalPaddingOnPage:30,state:{page:{previous:0,current:0,next:1}}},importCanonicalDocument:function(a){a.sections=a.sections||[];a.annotations=a.annotations||[];this.document=$j.extend(true,{},a);this.data.title=a.title;this.data.totalPages=a.pages;this.data.totalAnnotations=a.annotations.length;this.data.sections=a.sections;this.data.chapters=[];this.data.annotationsById={};this.data.annotationsByPage={};_.each(a.annotations,_.bind(this.loadAnnotation,this))},loadAnnotation:function(b){if(b.id){b.server_id=b.id}var a=b.page-1;b.id=_.uniqueId();b.title=b.title||"Untitled Annotation";b.text=b.content||"";b.access=b.access||"public";b.type=b.location&&b.location.image?"region":"page";if(b.type==="region"){var c=$j.map(b.location.image.split(","),function(e,d){return parseInt(e,10)});b.y1=c[0];b.x2=c[1];b.y2=c[2];b.x1=c[3]}else{if(b.type==="page"){b.y1=0;b.x2=0;b.y2=0;b.x1=0}}this.data.annotationsById[b.id]=b;this.data.annotationsByPage[a]=this.data.annotationsByPage[a]||[];this.data.annotationsByPage[a].push(b);return b}}}();(function(){var a=[{name:"browserDocument",query:document},{name:"browserWindow",query:window},{name:"header",query:"div#DV-header"},{name:"viewer",query:"div#DV-docViewer"},{name:"window",query:"div#DV-pages"},{name:"sets",query:"div.DV-set"},{name:"pages",query:"div.DV-page"},{name:"images",query:"div.DV-page img"},{name:"metas",query:"div.DV-pageMeta"},{name:"bar",query:"div#DV-bar"},{name:"currentPage",query:"span#DV-currentPage"},{name:"well",query:"div#DV-well"},{name:"collection",query:"div#DV-pageCollection"},{name:"annotations",query:"div#DV-annotations"},{name:"navigation",query:"div#DV-well div.DV-navigation"},{name:"chaptersContainer",query:"div#DV-well div.DV-chaptersContainer"},{name:"searchInput",query:"input#DV-searchInput"},{name:"textCurrentPage",query:"span#DV-textCurrentPage"},{name:"coverPages",query:"div.DV-cover"}];DV.Schema.elements=a}).call(this);(function(){var a=new DV.model(DV.Schema,{offsetsAdjustments:[],init:function(){this.saveCallbacks=[];this.deleteCallbacks=[];this.byId=DV.Schema.data.annotationsById;this.byPage=DV.Schema.data.annotationsByPage;this.bySortOrder=this.sortAnnotations();this.renderAnnotations()},render:function(d){var h=this.application.models.document;var c=this.application.models.pages;var g=c.zoomFactor();var f=d;var b=0;if(f.type==="page"){f._y1=b;f._y2=b;f._x1=b;f._x2=b;f.top=b}else{f._y1=Math.round(f.y1*g);f._y2=Math.round(f.y2*g);f._x1=Math.round(f.x1*g);f._x2=Math.round(f.x2*g);f.top=f._y1}f.width=c.width;f.pageNumber=f.page;f.bgWidth=f.width;f.bWidth=f.width-66;f.excerptWidth=f._x2-f._x1;f.excerptMarginLeft=f._x1-27;f.excerptHeight=f._y2-f._y1;f.index=f.page-1;f.image=c.imageURL(f.index);f.imageLeft=f._x1;f.imageTop=f._y1+2;f.imageWidth=c.width;f.imageHeight=c.height;f.regionLeft=f._x1;f.regionWidth=f._x2-f._x1;f.regionHeight=f._y2-f._y1;f.excerptDSHeight=f.excerptHeight-6;f.DSOffset=3;if(f.first==true){f.orderClass="DV-firstAnnotation"}else{if(f.last==true){f.orderClass="DV-lastAnnotation"}else{f.orderClass=""}}var e=(f.type==="page")?"pageAnnotation":"annotation";return JST[e](f)},sortAnnotations:function(){return this.bySortOrder=_.sortBy(_.values(this.byId),function(b){return b.page*10000+b.y1})},renderAnnotations:function(){for(var c=0;c<this.bySortOrder.length;c++){var b=this.bySortOrder[c];b.of=_.indexOf(this.byPage[b.page-1],b);b.position=c+1;b.first=(c==0)?true:false;b.last=(c==this.bySortOrder.length-1)?true:false;b.html=this.render(b)}this.renderAnnotationsByIndex();this.application.models.document.computeOffsets()},renderAnnotationsByIndex:function(){var c=_.map(this.bySortOrder,function(d){return d.html});var b=c.join("").replace(/id="DV-annotation-(\d+)"/g,function(d,e){return'id="DV-listAnnotation-'+e+'" rel="aid-'+e+'"'});$j("#DV-annotations").html(b);this.renderAnnotationsByIndex.rendered=true;this.renderAnnotationsByIndex.zoomLevel=this.zoomLevel;this.updateAnnotationOffsets()},refreshAnnotation:function(b){$j("#DV-annotation-"+b.id+", #DV-listAnnotation-"+b.id).each(function(){$j(".DV-annotationTitleInput",this).val(b.title);$j(".DV-annotationLabel",this).html(b.title);$j(".DV-annotationTextArea",this).val(b.text);$j(".DV-annotationText",this).html(b.text)})},removeAnnotation:function(c){delete this.byId[c.id];var b=c.page-1;this.byPage[b]=_.without(this.byPage[b],c);this.sortAnnotations();$j("#DV-annotation-"+c.id+", #DV-listAnnotation-"+c.id).remove();DV.api.redraw(true)},updateAnnotationOffsets:function(){var h=this.application.models.document;var b=$j("#DV-annotations");var c=b.find(".DV-annotation");if($j("#DV-docViewer").hasClass("DV-viewAnnotations")==false){b.addClass("DV-getHeights")}var g=0;var f=this;var e=this.bySortOrder;var d=($j.browser.msie===true&&$j.browser.version==6)?"height":"outerHeight";$j(c).each(function(k,j){var i=$j(j)[d]();g=g+i;f.offsetsAdjustments[e[k].page]=g;g=0;i=0});b.removeClass("DV-getHeights")},fireSaveCallbacks:function(b){_.each(this.saveCallbacks,function(d){d(b)})},fireDeleteCallbacks:function(b){_.each(this.deleteCallbacks,function(d){d(b)})},getAnnotations:function(b){return this.byPage[b]},getFirstAnnotation:function(){return _.first(this.bySortOrder)},getNextAnnotation:function(b){var c=this.byId[b];return this.bySortOrder[_.indexOf(this.bySortOrder,c)+1]},getPreviousAnnotation:function(b){var c=this.byId[b];return this.bySortOrder[_.indexOf(this.bySortOrder,c)-1]},getAnnotation:function(b){if(b.id){return this.byId[b.id]}if(b.index&&!b.id){throw new Error("looked up an annotation without an id")}return this.byId[b]}});DV.Schema.models.annotations=a}).call(this);(function(){var a=new DV.model(DV.Schema,{init:function(){this.loadChapters()},loadChapters:function(){var b=this.chapters=DV.Schema.data.chapters=[];_.each(DV.Schema.data.sections,function(f){f.id=f.id||_.uniqueId();var d=f.pages.split("-");var g=parseInt(d[0],10);var c=parseInt(d[0],10);for(var e=d[0]-1;e<d[1];e++){b[e]=f.id}})},getChapterId:function(b){return this.chapters[b]},getChapterPosition:function(d){for(var c=0,b=this.chapters.length;c<b;c++){if(this.chapters[c]===d){return c}}}});DV.Schema.models.chapters=a}).call(this);(function(){var a=new DV.model(DV.Schema,{currentPageIndex:0,offsets:[],baseHeightsPortion:[],baseHeightsPortionOffsets:[],paddedOffsets:[],totalDocumentHeight:0,totalPages:0,scrollBarWidth:0,additionalPaddingOnPage:0,ZOOM_RANGES:[700,750,825,900,1000],init:function(){this.state=DV.Schema.data.state;this.baseImageURL=DV.Schema.data.baseImageURL;this.additionalPaddingOnPage=DV.Schema.data.additionalPaddingOnPage;this.pageWidthPadding=DV.Schema.data.pageWidthPadding;this.zoomLevel=DV.Schema.data.zoomLevel;this.totalPages=DV.Schema.data.totalPages;this.chapterModel=DV.controller.models.chapters;this.setScrollBarWidth()},setPageIndex:function(b){this.currentPageIndex=b;DV.controller.elements.currentPage.text(this.currentPage());this.application.helpers.setActiveChapter(this.chapterModel.getChapterId(b));return b},currentPage:function(){return this.currentPageIndex+1},currentIndex:function(){return this.currentPageIndex},nextPage:function(){var b=this.currentIndex()+1;if(b>=this.totalPages){return this.currentIndex()}return this.setPageIndex(b)},previousPage:function(){var b=this.currentIndex()-1;if(b<0){return this.currentIndex()}return this.setPageIndex(b)},zoom:function(c,b){if(this.zoomLevel!=c||b!==true){this.zoomLevel=c;this.application.models.pages.resize(this.zoomLevel);this.application.models.annotations.renderAnnotations()}},computeOffsets:function(){var f=this.application.models.annotations;var c=0;var e=0;var b=this.totalPages;var j=this.application.models.pages;for(var d=0;d<b;d++){if(f.offsetsAdjustments[d]){e=f.offsetsAdjustments[d]}var g=this.offsets[d]=e+c;this.baseHeightsPortion[d]=Math.round((j.height+this.additionalPaddingOnPage)/3);this.baseHeightsPortionOffsets[d]=(d==0)?0:g-this.baseHeightsPortion[d];c+=(j.height+this.additionalPaddingOnPage)}this.totalDocumentHeight=c;this.application.helpers.setDocHeight(c)},getScrollBarWidth:function(){var c=document.body;_bodyStyle=c.style;_bodyStyle.overflow="hidden";var b=c.clientWidth;_bodyStyle.overflow="scroll";b-=c.clientWidth;if(!b){b=c.offsetWidth-c.clientWidth}_bodyStyle.overflow="";return b},setScrollBarWidth:function(){this.set("scrollBarWidth",this.getScrollBarWidth())},getOffset:function(b){return this.offsets[b]},updateOffsets:function(){}});DV.Schema.models.document=a}).call(this);(function(){var a=new DV.model(DV.Schema,{BASE_WIDTH:700,BASE_HEIGHT:906,DEFAULT_TEXT_WIDTH:600,MAX_TEXT_WIDTH:900,TEXT_PADDING:100,init:function(){this.zoomLevel=this.BASE_WIDTH;this.width=this.baseWidth=this.BASE_WIDTH;this.height=this.baseHeight=this.BASE_HEIGHT;this.ratio=this.baseHeight/this.baseWidth},imageURL:function(d){var c=DV.Schema.document.resources.page.image;var e=this.zoomLevel>this.BASE_WIDTH?"large":"normal";var b=d+1;if(DV.Schema.document.resources.page.zeropad){b=this.zeroPad(b,5)}c=c.replace(/\{size\}/,e);c=c.replace(/\{page\}/,b);return c},zeroPad:function(c,d){var b=c.toString();while(b.length<d){b="0"+b}return b},zoomFactor:function(){return this.zoomLevel/this.BASE_WIDTH},resize:function(b){this.zoomLevel=b||this.zoomLevel;this.width=Math.round(this.baseWidth*this.zoomFactor());this.height=Math.round(this.baseHeight*this.zoomFactor());DV.controller.elements.collection.css({width:this.width})},updateHeight:function(c){var b=c.height/c.width;if(b<=this.ratio){return false}this.ratio=b;this.baseHeight=this.BASE_WIDTH*this.ratio;DV.controller.pageSet.reflowPages()},scaledHeight:function(c){var b=(c.height/c.width)/this.ratio;return Math.round(b*this.height)}});DV.Schema.models.pages=a}).call(this);(function(){var a={ViewDocument:{next:function(c){c.preventDefault();var b=this.models.document.nextPage();this.helpers.jumpTo(b);DV.history.save("document/p"+(b+1))},previous:function(c){c.preventDefault();var b=this.models.document.previousPage();this.helpers.jumpTo(b);DV.history.save("document/p"+(b+1))},search:function(b){b.preventDefault();this.states.ViewSearch();return false}},ViewAnnotation:{next:function(g){if(g){g.preventDefault()}var d=this.application;var c=d.activeAnnotationId;var b=this.models.annotations;var f=(!c)?b.getFirstAnnotation():b.getNextAnnotation(c);if(!f){return false}d.pageSet.showAnnotation(f);this.helpers.setAnnotationPosition(f.position)},previous:function(g){if(g){g.preventDefault()}var f=this.application;var d=f.activeAnnotationId;var b=this.models.annotations;var c=(!d)?b.getFirstAnnotation():b.getPreviousAnnotation(d);if(!c){return false}f.pageSet.showAnnotation(c);this.helpers.setAnnotationPosition(c.position)},search:function(b){b.preventDefault();this.states.ViewSearch();return false}},ViewText:{next:function(c){c.preventDefault();var b=this.models.document.nextPage();this.loadText(b);DV.history.save("text/p"+(b+1))},previous:function(c){c.preventDefault();var b=this.models.document.previousPage();this.loadText(b);DV.history.save("text/p"+(b+1))},search:function(b){b.preventDefault();this.states.ViewSearch();return false}},ViewSearch:{next:function(c){c.preventDefault();var b=this.models.document.nextPage();this.loadText(b)},previous:function(c){c.preventDefault();var b=this.models.document.previousPage();this.loadText(b)},search:function(b){b.preventDefault();this.getSearchResponse(this.elements.searchInput.val());return false}},zoom:function(d){var c=this.application;c.pageSet.zoom({zoomLevel:d});var b=c.models.document.ZOOM_RANGES;if(b[0]==d||b[b.length-1]==d){this.helpers.setInterpolationMode(false)}else{this.helpers.setInterpolationMode(true)}if(b[b.length-1]==d){c.dragReporter.sensativity=1.5}else{c.dragReporter.sensativity=1}},getSearchResponse:function(e){var d=this.helpers;var c=_.bind(function(f){this.application.searchResponse=f;var h=(f.results.length>0)?true:false;var g=h?"of "+f.results.length+" ":" ";$j("span#DV-totalSearchResult").text(g);$j("span#DV-searchQuery").text(f.query);if(h){DV.history.save("search/p"+f.results[0]+"/"+f.query);this.loadText(f.results[0]-1,d.highlightSearchResponses)}else{d.highlightSearchResponses()}},this);var b=DV.Schema.document.resources.search.replace("{query}",encodeURIComponent(e));if(d.isCrossDomain(b)){b+="&callback=?"}$j.getJSON(b,c)},showEntity:function(b,d,c){$j("span#DV-totalSearchResult").text("");$j("span#DV-searchQuery").text(b);$j("span#DV-currentSearchResult").text("Searching");this.loadText(this.models.document.currentIndex(),_.bind(this.helpers.highlightEntity,this.helpers,d,c))},drawPages:function(){var f=this.models.document;var e=f.baseHeightsPortionOffsets;var h=this.application.scrollPosition=this.elements.window[0].scrollTop;var c=_.sortedIndex(e,h);if(e[c]==h){c++}var b=c-1;var g=this.helpers.sortPages(b);var d=f.totalPages;if(f.currentPage()!=c){f.setPageIndex(b)}if(c===1){return this.drawFirstPage(g)}if(c===d){return this.drawLastPage(g)}return this.drawPageAt(g,b)},drawFirstPage:function(b){this.application.pageSet.draw([{label:b[0],index:0,currentPage:true},{label:b[1],index:1},{label:b[2],index:2}])},drawLastPage:function(c){var b=this.models.document.totalPages-1;this.application.pageSet.draw([{label:c[0],index:b-1},{label:c[1],index:b,currentPage:true}])},drawPageAt:function(c,b){this.application.pageSet.draw([{label:c[0],index:b-1},{label:c[1],index:b,currentPage:true},{label:c[2],index:b+1}])},check:function(){var c=this.application;if(c.busy===false){c.busy=true;for(var d=0,b=this.application.observers.length;d<b;d++){this[c.observers[d]].call(this)}c.busy=false}},scale:function(){var b=this.helpers;var c=b.getWindowDimensions();if(c.height!=this.application.windowDimensions.height||c.width!=this.application.windowDimensions.width){b.setWindowSize(c)}},loadText:function(b,g){if(_.isUndefined(b)){b=this.models.document.currentIndex()}this._previousTextIndex=b;var e=this;var c=function(j){var i=b+1;e.handleTextResponse(j);e.elements.currentPage.text(i);e.elements.textCurrentPage.text("p. "+(i));e.models.document.setPageIndex(b);e.helpers.setActiveChapter(e.models.chapters.getChapterId(b));if(g){g.call(e.helpers)}};if(DV.Schema.text[b]){return c(DV.Schema.text[b])}var d=_.bind(function(i){c(DV.Schema.text[b]=i)},this);$j("#DV-textContents").text("");var h=DV.Schema.document.resources.page.text.replace("{page}",b+1);var f=this.helpers.isCrossDomain(h);if(f){h+="?callback=?"}$j[f?"getJSON":"get"](h,{},d)},handleTextResponse:function(k){var m=this.models.pages.DEFAULT_TEXT_WIDTH;var j=this.models.pages.MAX_TEXT_WIDTH;var h=this.models.pages.TEXT_PADDING;var d=$j("#DV-textMeasurer");var i=$j("#DV-textContents");var g=$j("#DV-textPage");d.text(k);var c=d.width();var f=d.height();var e=c>j&&c>(f*2);var b=e?m:c>j?j:c<m?m:c;i.width(b);g.width(b+h);this.elements.collection.css({width:b+h,height:"auto"});i.text(k)},trackAnnotation:function(){var c=this.application;var e=this.helpers;if(c.activeAnnotation){var b=c.activeAnnotation;var d=this.trackAnnotation;if(d.id!=b.id){d.id=b.id;e.setActiveAnnotationLimits(b)}if(c.scrollPosition>d.h||c.scrollPosition<d.combined){b.hide(true);c.pageSet.setActiveAnnotation(null);c.activeAnnotation=null;d.h=null;d.id=null;d.combined=null}}else{e.removeObserver("trackAnnotation")}},handleNavigation:function(h){h.preventDefault();var f=$j(h.target);var d=f.parent();if(f[0].tagName.toUpperCase()!=="A"){return}if(f.hasClass("DV-expander")){return d.parent().toggleClass("DV-expanded")}else{if(d.hasClass("DV-first")){d.parent().addClass("DV-expanded");var i=parseInt(d.parent()[0].id.replace("DV-chapter-",""),10);var c=this.models.chapters.getChapterPosition(i);if(this.application.state==="ViewText"){this.loadText(c);DV.history.save("text/p"+c+1)}else{if(this.application.state==="ViewDocument"){this.helpers.jumpTo(c);DV.history.save("document/p"+(parseInt(c,10)+1))}else{return false}}}else{if(d[0].tagName.toUpperCase()==="DIV"){var g=d[0].id.replace("DV-annotationMarker-","");var b=this.models.annotations.getAnnotation(g);if(this.application.state==="ViewText"){this.loadText(b.index);DV.history.save("text/p"+b.index+1)}else{this.application.pageSet.showAnnotation(b)}}else{return false}}}},startCheckTimer:function(){var c=this.application;var b=function(){c.events.check()};this.application.checkTimer=setInterval(b,100)},stopCheckTimer:function(){clearTimeout(this.application.checkTimer)},handleHashChangeViewDocumentPage:function(c){var b=parseInt(c,10)-1;if(this.application.state==="ViewDocument"){this.application.pageSet.cleanUp();this.helpers.jumpTo(b)}else{this.models.document.setPageIndex(b);this.states.ViewDocument()}},handleHashChangeViewDocumentAnnotation:function(d,c){var b=parseInt(d,10)-1;var c=parseInt(c,10);if(this.application.state==="ViewDocument"){this.application.pageSet.showAnnotation(this.application.models.annotations.byId[c])}else{this.models.document.setPageIndex(b);this.application.pageSet.setActiveAnnotation(c);this.states.ViewDocument()}},handleHashChangeViewAnnotationAnnotation:function(b){var b=parseInt(b,10);var c=this.application;if(c.state==="ViewAnnotation"){c.pageSet.showAnnotation(this.application.models.annotations.byId[b])}else{c.activeAnnotationId=b;this.states.ViewAnnotation()}},handleHashChangeDefault:function(){this.application.pageSet.cleanUp();this.models.document.setPageIndex(0);if(this.application.state==="ViewDocument"){this.helpers.jumpTo(0);DV.history.save("document/p1")}else{this.states.ViewDocument()}},handleHashChangeViewText:function(c){var b=parseInt(c,10)-1;if(this.application.state==="ViewText"){this.events.loadText(b)}else{this.models.document.setPageIndex(b);this.states.ViewText()}},handleHashChangeViewSearchRequest:function(d,c){var b=parseInt(d,10)-1;this.elements.searchInput.val(decodeURIComponent(c));if(this.application.state!=="ViewSearch"){this.models.document.setPageIndex(b)}this.states.ViewSearch()},handleHashChangeViewEntity:function(d,b,e,c){d=parseInt(d,10)-1;b=decodeURIComponent(b);this.elements.searchInput.val(b);this.models.document.setPageIndex(d);this.states.ViewEntity(b,parseInt(e,10),parseInt(c,10))}};DV.Schema.events=a}).call(this);(function(){var a={HOST_EXTRACTOR:(/https?:\/\/([^\/]+)\//),constructViewer:function(){var g=DV.Schema.document;var f=this.constructPages();var c=g.description||"";var e=JST.header({id:g.id,search_type:(window.navigator.userAgent.match(/webkit/i))?"search":"text",title:g.title||""});var b=g.resources.related_story;b=b?'<a target="_blank" href="'+b+'">Related Article: &raquo;</a>':"";var d=g.resources.pdf;d=d?'<a target="_blank" href="'+d+'">Original Document (PDF)</a>':"";$j(DV.container).html(JST.viewer({pages:f,header:e,story_url:b,pdf_url:d,descriptionContainer:JST.descriptionContainer({description:c})}))},bindEvents:function(e){var d=this.events.compile("zoom");this.application.slider=$j("#DV-zoomBox").slider({step:24.7,change:function(j,k){d(e.models.document.ZOOM_RANGES[parseInt(k.value/24.7,10)])}});var i=this.application.compiled;i.next=this.events.compile("next");i.previous=this.events.compile("previous");var c=e.states;$j("a#DV-next").live("click",i.next);$j("a#DV-previous").live("click",i.previous);$j("#DV-annotationView a").live("click",function(j){j.preventDefault();c.ViewAnnotation()});$j("#DV-documentView a").live("click",function(j){j.preventDefault();DV.history.save("document/p"+e.models.document.currentPage());c.ViewDocument()});$j("#DV-textView a").live("click",function(j){j.preventDefault();DV.history.save("text/p"+e.models.document.currentPage());c.ViewText()});$j("a.DV-gotoPage").live("click",_.bind(this.gotoPage,this));$j("form#DV-searchDocument").submit(this.events.compile("search"));$j("#DV-closeSearch").live("click",function(j){j.preventDefault();DV.history.save("text/p"+e.models.document.currentPage());c.ViewText()});$j("a.DV-resultPrevious").live("click",_.bind(this.highlightPreviousMatch,this));$j("a.DV-resultNext").live("click",_.bind(this.highlightNextMatch,this));var f=_.bind(this.annotationBridgeToggle,this);var h=_.bind(this.annotationBridgeDrawConnector,this);var b=_.bind(this.annotationBridgeRemoveConnector,this);$j("span.DV-annotationTab").live("click",f);$j("span.DV-annotationTab").live("mouseover",h);$j("span.DV-annotationTab").live("mouseout",b);$j("span.DV-annotationRegion").live("mouseover",h);$j("span.DV-annotationRegion").live("mouseout",b);$j("span.DV-annotationRegion").live("click",_.bind(this.annotationBridgeShow,this));$j("a.DV-annotationNext").live("click",_.bind(this.annotationBridgeNext,this));$j("a.DV-annotationPrevious").live("click",_.bind(this.annotationBridgePrevious,this));$j("span.DV-showEdit").live("click",_.bind(this.showAnnotationEdit,this));$j("span.DV-cancelEdit").live("click",_.bind(this.cancelAnnotationEdit,this));$j("span.DV-saveAnnotation").live("click",_.bind(this.saveAnnotation,this));$j("span.DV-deleteAnnotation").live("click",_.bind(this.deleteAnnotation,this));$j("#DV-descriptionToggle").live("click",function(j){j.preventDefault();j.stopPropagation();$j("#DV-descriptionText").toggle("blind",{direction:"vertical"},300,function(){$j("#DV-descriptionToggle").toggleClass("DV-showDescription")})});var g=_.bind(this.application.pageSet.cleanUp,this);this.elements.window.live("mousedown",function(k){var j=$j(k.target);if(j.parents().is(".DV-annotation")||j.is(".DV-annotation")){return true}if(e.elements.window.hasClass("DV-coverVisible")){if((j.width()-parseInt(k.clientX,10))>=15){g()}}});if(jQuery.browser.msie==true){this.elements.browserDocument.bind("focus",_.bind(this.focusWindow,this));this.elements.browserDocument.bind("focusout",_.bind(this.focusOut,this))}else{this.elements.browserWindow.bind("focus",_.bind(this.focusWindow,this));this.elements.browserWindow.bind("blur",_.bind(this.blurWindow,this))}this.elements.window.bind("scroll",_.bind(this.focusWindow,this));this.elements.coverPages.live("mousedown",g);this.application.acceptInput=this.elements.currentPage.acceptInput({changeCallBack:_.bind(this.acceptInputCallBack,this)});this.elements.browserWindow.bind("unload",_.bind(this.cleanUpEvents,this))},acceptInputCallBack:function(){var b=parseInt(this.elements.currentPage.text(),10)-1;b=(b==="")?0:b;b=(b<0)?0:b;b=(b+1>this.models.document.totalPages)?this.models.document.totalPages-1:b;var c=b+1;this.elements.currentPage.text(c);$j(".DV-pageNumberContainer input").val(c);if(this.application.state==="ViewDocument"){DV.history.save("document/p"+c);this.jumpTo(b)}else{if(this.application.state==="ViewText"){DV.history.save("text/p"+c);this.events.loadText(b)}}},blurWindow:function(){if(this.application.isFocus===true){this.application.isFocus=false;this.events.stopCheckTimer()}else{return}},focusOut:function(){if(this.application.activeElement!=document.activeElement){this.application.activeElement=document.activeElement;this.application.isFocus=true}else{this.application.isFocus=false;this.events.stopCheckTimer();return}},focusWindow:function(){if(this.application.isFocus===true){return}else{this.application.isFocus=true;this.events.startCheckTimer()}},cleanUpEvents:function(){var d=[];d.push("span.DV-annotationTab,");d.push("span.DV-annotationRegion,");d.push("a.DV-close,");d.push("a.DV-annotationNext,");d.push("a.DV-annotationPrevious,");d.push("a.DV-resultNext,");d.push("a#DV-next,");d.push("a#DV-previous,");d.push("#DV-annotationView a,");d.push("#DV-documentView a,");d.push("#DV-textView a,");d.push("a.DV-gotoPage");$j(d.join("")).die();$j("form#DV-searchDocument").unbind();var b=this.application;var c=this.elements;b.slider.destroy();c.coverPages.die();c.window.unbind();b.dragReporter.destroy();c.destroy();delete this.elements},setDocHeight:function(b){this.elements.bar.css("height",b)},getWindowDimensions:function(){var c=(DV.options.embedded==true)?0:parseInt($j(document.body).css("padding-top"),10);var b={height:(window.innerHeight?window.innerHeight:this.elements.browserWindow.height())-c,width:this.elements.browserWindow.width()};return b},isCrossDomain:function(c){var b=c.match(this.HOST_EXTRACTOR)[1];return b!=window.location.host},highlightSearchResponses:function(){var m=this.application;var d=m.searchResponse;if(!d){return false}var f=d.results;var h=$j("#DV-currentSearchResult");if(f.length==0){h.text("No Results");$j("#DV-searchResults").addClass("DV-noResults")}else{$j("#DV-searchResults").removeClass("DV-noResults")}for(var g=0;g<d.results.length;g++){if(this.models.document.currentPage()===d.results[g]){h.text("Page "+(g+1)+" ");break}}var j=$j("#DV-textContents");var e=j.text();var k=new RegExp(d.query,"ig");var c=e.replace(k,'<span class="DV-searchMatch">$&</span>');j.html(c);var b=(m.toHighLight)?m.toHighLight:0;this.highlightMatch(b);h=null;j=null},highlightEntity:function(h,e){$j("#DV-searchResults").addClass("DV-noResults");var d=$j("#DV-textContents");var g=d.html();var f=g.substr(0,h);var b=g.substr(h,e);var c=g.substr(h+e);g=[f,'<span class="DV-searchMatch">',b,"</span>",c].join("");d.html(g);this.highlightMatch(0)},highlightMatch:function(d){var e=$j("#DV-textContents span.DV-searchMatch");if(e.length==0){return false}var g=this.getCurrentSearchPageIndex();var b=this.application.toHighLight;if(b){if(b!==false){if(b==="last"){d=e.length-1}else{if(b==="first"){d=0}else{d=b}}}b=false}var f=this.application.searchResponse;if(f){if(d===(e.length)){if(f.results.length===g+1){return}b="first";this.events.loadText(f.results[g+1]-1,this.highlightSearchResponses);return}else{if(d===-1){if(g-1<0){return false}b="last";this.events.loadText(f.results[g-1]-1,this.highlightSearchResponses);return}}e.removeClass("DV-highlightedMatch")}var c=$j("#DV-textContents span.DV-searchMatch:eq("+d+")");c.addClass("DV-highlightedMatch");this.elements.window.scrollTo(c.position().top-50,{axis:"y"});if(f){f.highlighted=d}e=null;c=null},getCurrentSearchPageIndex:function(){var e=this.application.searchResponse;if(!e){return false}var c=this.models.document;for(var d=0,b=e.results.length;d<b;d++){if(e.results[d]===c.currentPage()){return d}}},highlightPreviousMatch:function(b){b.preventDefault();this.highlightMatch(this.application.searchResponse.highlighted-1)},highlightNextMatch:function(b){b.preventDefault(b);this.highlightMatch(this.application.searchResponse.highlighted+1)},resetNavigationState:function(){var b=this.elements;b.chaptersContainer[0].id="";b.navigation[0].id=""},setAnnotationPosition:function(b){this.elements.currentPage.text(b)},resetScrollState:function(){this.elements.window.scrollTop(0)},gotoPage:function(f){f.preventDefault();var d=$j(f.target).parents(".DV-annotation").attr("rel").replace("aid-","");var b=this.models.annotations.getAnnotation(d);var c=this.application;if(c.state!=="ViewDocument"){this.models.document.setPageIndex(b.index);c.states.ViewDocument();DV.history.save("document/p"+(parseInt(b.index,10)+1))}},sortPages:function(b){if(b==0){return["p0","p1","p2"]}if(b%3==1){return["p0","p1","p2"]}if(b%3==2){return["p1","p2","p0"]}if(b%3==0){return["p2","p0","p1"]}},addObserver:function(b){this.removeObserver(b);this.application.observers.push(b)},removeObserver:function(c){var e=this.application.observers;for(var d=0,b=e.length;d<b;d++){if(c===e[d]){e.splice(d,1)}}},hideOverflow:function(){var b=JST.hideOverflow({});$j("head").append(b)},setWindowSize:function(h){var d=this.application;var e=this.elements;var f=d.scrollBarWidth;var b=e.header.outerHeight();var c=e.window.offset();var g=Math.round((h.height)-b-20)+4;e.window.css({height:g});e.well.css({height:g});d.windowDimensions=h},setActiveAnnotationLimits:function(b){var b=(b)?b:this.application.activeAnnotation;if(!b||b==null){return}var f=this.elements;var c=b.page;var e=b.annotationEl;var d=b.position.top;var g=this.events.trackAnnotation;if(b.type==="page"){g.h=e.find("div.DV-annotationBG").outerHeight()+c.offset;g.combined=(c.offset)-f.window.height()}else{g.h=e.find("div.DV-annotationBG").height()+d+20+c.offset;g.combined=(d+20+c.offset)-f.window.height()}},toggleContent:function(b){this.elements.viewer.removeClass("DV-viewText DV-viewSearch DV-viewDocument DV-viewAnnotations").addClass("DV-"+b)},cleanUpSearch:function(){var b=this.application;b.searchResponse=null;b.toHighLight=null},setActiveChapter:function(b){this.elements.chaptersContainer.attr("id","DV-selectedChapter-"+b)},jumpTo:function(d,c,e){if(c){c=parseInt(c,10)}else{c=(this.jumpTo.storedOffset)?this.jumpTo.storedOffset:0}var b=this.models.document.getOffset(parseInt(d,10))+c;this.jumpTo.storedOffset=0;this.elements.window.scrollTop(b);if(e===true){this.application.pageSet.redraw(true)}},setActiveAnnotationInNav:function(b){if(b){this.elements.navigation.attr("id","DV-selectedAnnotation-"+b)}else{this.elements.navigation.attr("id","")}},shift:function(b){var d=this.elements.window;var c=d.scrollTop()+b.delta;d.scrollTop(c)},getAnnotationObject:function(b){var b=$j(b);var e=b.attr("id").replace("DV-annotation-","");var c=b.closest("div.DV-set").attr("id");for(var d=0;(annotationObject=this.application.pageSet.pages[c].annotations[d]);d++){if(annotationObject.id==e){b=null;return annotationObject}}return false},getAnnotationModel:function(c){var b=parseInt(c.attr("rel").match(/\d+/),10);return this.models.annotations.getAnnotation(b)},annotationBridgeToggle:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.toggle()},annotationBridgeDrawConnector:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.drawConnector()},annotationBridgeRemoveConnector:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.removeConnector()},annotationBridgeShow:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.show()},annotationBridgeHide:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.hide(true)},annotationBridgeNext:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.next()},annotationBridgePrevious:function(c){c.preventDefault();var b=this.getAnnotationObject($j(c.target).closest(".DV-annotation"));b.previous()},showAnnotationEdit:function(c){var b=$j(c.target).closest(".DV-annotation");b.addClass("DV-editing");$j(".DV-annotationTextArea",b).focus()},cancelAnnotationEdit:function(d){var c=$j(d.target).closest(".DV-annotation");var b=this.getAnnotationModel(c);if(b.unsaved){this.models.annotations.removeAnnotation(b)}else{c.removeClass("DV-editing")}},saveAnnotation:function(d){var c=$j(d.target).closest(".DV-annotation");var b=this.getAnnotationModel(c);b.title=$j(".DV-annotationTitleInput",c).val();b.text=$j(".DV-annotationTextArea",c).val();this.models.annotations.refreshAnnotation(b);c.removeClass("DV-editing");DV.api.redraw();this.models.annotations.fireSaveCallbacks(b)},deleteAnnotation:function(d){var c=$j(d.target).closest(".DV-annotation");var b=this.getAnnotationModel(c);this.models.annotations.removeAnnotation(b);this.models.annotations.fireDeleteCallbacks(b)},getAppState:function(){var b=this.models.document;var c=(b.currentIndex()==0)?1:b.currentPage();return{page:c,zoom:b.zoomLevel,view:this.application.state}},renderNavigation:function(){var d=[],h=[],f=[],s=[],q=JST.navigationExpander({}),j=[],m=[],g=[];var t=function(A,z){var B=[];for(var y=A,x=z;y<x;y++){if(m[y]){B.push(m[y]);j[y]=""}}return B.join("")};var b=function(i){var x="#DV-selectedChapter-"+i.id+" #DV-chapter-"+i.id;h.push(x+" .DV-first a");return(JST.chapterNav(i))};var e=function(y){var z=[];var A=DV.Schema.data.annotationsByPage[y];for(var x=0;x<A.length;x++){var i=A[x];z.push(JST.annotationNav(i));h.push("#DV-selectedAnnotation-"+i.id+" #DV-annotationMarker-"+i.id+" a")}return z.join("")};for(var u=0,v=this.models.document.totalPages;u<v;u++){if(DV.Schema.data.annotationsByPage[u]){j[u]=e(u);m[u]=j[u]}}if(DV.Schema.data.sections.length>=1){for(var u=0;u<DV.Schema.data.sections.length;u++){var k=DV.Schema.data.sections[u];var o=k.pages.split("-");var c=t(o[0]-1,o[1]-1);k.pageNumber=o[0];if(c!=""){k.navigationExpander=q;k.navigationExpanderClass="DV-hasChildren";k.noteViews=c;j[o[0]-1]=b(k)}else{k.navigationExpanderClass="DV-noChildren";k.noteViews="";k.navigationExpander="";j[o[0]-1]=b(k)}}}var w=j.join("");var p=$j("div.DV-chaptersContainer");p.html(w);p.live("click",this.events.compile("handleNavigation"));DV.Schema.data.sections.length||_.size(DV.Schema.data.annotationsById)?p.show():p.hide();$j("#DV-navigationBolds",document.head).remove();var r=h.join(", ")+" { font-weight:bold; color:#000 !important; }";var n='<style id="DV-navigationBolds" type="text/css" media="screen,print">\n'+r+"\n</style>";$j("head").append(n);p=null},renderComponents:function(){if(DV.container==document.body){$j(document.body).css({margin:0,padding:0,overflow:"hidden"})}var e=_.any(this.models.annotations.byId);$j("#DV-annotationView")[e?"show":"hide"]();var c=!!DV.Schema.document.resources.search;if(c){this.elements.viewer.addClass("DV-searchable")}var b=this.models.chapters.chapters.length>0;$j("#DV-navControls").remove();var d=JST.navControls({totalPages:DV.Schema.data.totalPages,totalAnnotations:DV.Schema.data.totalAnnotations});if(!e&&!b&&!DV.Schema.document.description){this.elements.viewer.addClass("DV-emptySidebar")}$j("#DV-well .DV-navControlsContainer").html(d);$j("#DV-sidebar").show();this.elements.currentPage=$j("span#DV-currentPage");this.models.document.setPageIndex(this.models.document.currentIndex())},constructPages:function(){var b=[];var d=(DV.Schema.data.totalPages<3)?DV.Schema.data.totalPages:3;for(var c=0;c<d;c++){b.push(JST.pages({pageNumber:c+1,pageIndex:c,pageImageSource:""}))}return b.join("")},loadAssets:function(d){for(var c=0,b=d.length;c<b;c++){this.loadAsset(d[c])}},loadAsset:function(b){$j("head").append(b)},setInterpolationMode:function(b){if(b==true){this.elements.window.addClass("DV-interpolate")}else{this.elements.window.removeClass("DV-interpolate")}},registerHashChangeEvents:function(){var b=this.events;var c=DV.history;c.defaultCallback=_.bind(b.handleHashChangeDefault,b);c.register(/document\/p(\d*)$/,_.bind(b.handleHashChangeViewDocumentPage,b));c.register(/document\/p(\d*)\/a(\d*)$/,_.bind(b.handleHashChangeViewDocumentAnnotation,b));c.register(/annotation\/a(\d*)$/,_.bind(b.handleHashChangeViewAnnotationAnnotation,b));c.register(/text\/p(d\*)$/,_.bind(b.handleHashChangeViewText,b));c.register(/entity\/p(\d*)\/(.*)\/(\d+):(\d+)$/,_.bind(b.handleHashChangeViewEntity,b));c.register(/search\/p(\d*)\/(.*)$/,_.bind(b.handleHashChangeViewSearchRequest,b))},handleInitialState:function(){var b=DV.history.loadURL(true);if(b===false){this.states.ViewDocument()}}};DV.Schema.helpers=a}).call(this);(function(){var a={isFocus:true,activeElement:null,observers:[],windowDimensions:{},scrollPosition:null,checkTimer:{},busy:false,annotationToLoadId:null,dragReporter:null,compiled:{},InitialLoad:{enter:function(b){this.helpers.constructViewer();this.scrollBarWidth=($j.browser.msie===true)?19:17;this.events.elements=this.helpers.elements=this.elements=new DV.Elements(this.pendingElements);this.models.pages.init();this.models.document.init();this.models.chapters.init();this.models.annotations.init();this.helpers.renderComponents();this.helpers.renderNavigation();this.pageSet=new DV.pageSet(this);this.pageSet.buildPages();this.helpers.bindEvents(this);this.helpers.addObserver("scale")},InitialLoad:function(){this.helpers.registerHashChangeEvents();this.helpers.handleInitialState()},exit:function(b){this.dragReporter=new DV.dragReporter("#DV-pageCollection",_.bind(this.helpers.shift,this),{ignoreSelector:".DV-annotation"});this.events.startCheckTimer()}},ViewDocument:{enter:function(b){this.dragReporter.setBinding();this.elements.window.mouseleave(_.bind(this.dragReporter.stop,this.dragReporter));this.acceptInput.allow();return true},ViewDocument:function(){this.helpers.toggleContent("viewDocument");this.helpers.setActiveChapter(this.models.chapters.getChapterId(this.models.document.currentIndex()));this.helpers.jumpTo(this.models.document.currentIndex());this.helpers.addObserver("drawPages");return true},exit:function(b){this.helpers.removeObserver("drawPages");if(this.activeAnnotation){this.pageSet.cleanUp()}this.elements.chaptersContainer[0].id="";this.dragReporter.unBind();return true}},ViewAnnotation:{enter:function(b){this.elements.window.scrollTop(0);this.activeAnnotationId=this.elements.annotations.find(".DV-annotation")[0].id.replace("DV-annotation-","");this.acceptInput.deny();return true},ViewAnnotation:function(){this.helpers.toggleContent("viewAnnotations");this.compiled.next();return true},exit:function(b){this.helpers.resetNavigationState();this.activeAnnotationId=null;return true}},ViewText:{enter:function(b){this.dragReporter.unBind();this.helpers.resetNavigationState();this.elements.window.scrollTop(0);this.acceptInput.allow();return true},ViewText:function(){this.helpers.toggleContent("viewText");this.events.loadText();return true},exit:function(b){this.helpers.resetNavigationState();this.elements.collection.width(this.models.pages.width);return true}},ViewSearch:{enter:function(b){this.dragReporter.unBind();this.elements.window.scrollTop(0);if(this.elements.searchInput.val()==""){this.elements.searchInput.val(c)}else{var c=this.elements.searchInput.val()}this.events.getSearchResponse(c);this.acceptInput.deny();return true},ViewSearch:function(){this.helpers.toggleContent("viewSearch");return true},exit:function(b){$j("#DV-searchInput").val("");this.helpers.cleanUpSearch();return true}},ViewEntity:{enter:function(b){this.dragReporter.unBind();this.elements.window.scrollTop(0)},ViewEntity:function(b,d,c){this.helpers.toggleContent("viewSearch");this.events.showEntity(b,d,c)},exit:function(b){$j("#DV-searchInput").val("");this.helpers.cleanUpSearch();return true}}};DV.Schema.states=a}).call(this);(function(){if($j.browser.msie===true&&$j.browser.version==6){document.execCommand("BackgroundImageCache",false,true)}DV.controller=new DV.StateMachine(DV.Schema.states,DV.Schema.events,DV.Schema.elements,DV.Schema.helpers,DV.Schema.models);DV.load=function(a,c){c=c||{};DV.container=c.container||document.body;DV.options=c;var b=function(e){DV.Schema.importCanonicalDocument(e);DV.controller.states.InitialLoad();if(DV.container==document.body||!c.embedded){DV.controller.helpers.hideOverflow()}if(c.afterLoad){c.afterLoad.call(window)}};if(_.isString(a)){var d=DV.controller.helpers.isCrossDomain(a);if(d){a=a+"?callback=?"}$j.getScript(c.templates,function(){$j.getJSON(a,b)})}else{if(c.templates){$j.getScript(c.templates,function(){b(a)})}else{b(a)}}}}).call(this);(function(){DV.api={currentPage:function(){return DV.controller.models.document.currentPage()},currentZoom:function(){var a=DV.controller.models.document;return a.zoomLevel/a.ZOOM_RANGES[0]},numberOfPages:function(){return DV.controller.models.document.totalPages},setSections:function(a){DV.Schema.data.sections=a;DV.controller.models.chapters.loadChapters();this.redraw()},getSections:function(){return _.clone(DV.Schema.data.sections||[])},getDescription:function(){return DV.Schema.document.description},setDescription:function(a){DV.Schema.document.description=a;$("#DV-description").replaceWith(JST.descriptionContainer({description:a}))},setPageText:function(b,a){DV.Schema.text[a-1]=b},redraw:function(a){if(a){DV.controller.models.annotations.renderAnnotations()}DV.controller.helpers.renderNavigation();DV.controller.helpers.renderComponents();if(a){DV.controller.elements.window.removeClass("DV-coverVisible");DV.controller.pageSet.buildPages()}},addAnnotation:function(a){a=DV.Schema.loadAnnotation(a);DV.controller.models.annotations.sortAnnotations();this.redraw(true);DV.controller.pageSet.showAnnotation(a,{active:true,noJump:true,edit:true});return a},onAnnotationSave:function(a){DV.controller.models.annotations.saveCallbacks.push(a)},onAnnotationDelete:function(a){DV.controller.models.annotations.deleteCallbacks.push(a)}}})();